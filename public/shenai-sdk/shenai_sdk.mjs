import {makeResponseWithLoading} from "./util/index.mjs";
var Module = (() => {
  var _scriptName = import.meta.url;
  
  return (
async function(moduleArg = {}) {
  var moduleRtn;

var g=moduleArg,aa,ba,ca=new Promise((a,b)=>{aa=a;ba=b}),da="object"==typeof window,ea="undefined"!=typeof WorkerGlobalScope,n=ea&&self.name?.startsWith("em-pthread"),fa=Object.assign({},g),ha="",ia,ja;
if(da||ea)ea?ha=self.location.href:"undefined"!=typeof document&&document.currentScript&&(ha=document.currentScript.src),_scriptName&&(ha=_scriptName),ha.startsWith("blob:")?ha="":ha=ha.slice(0,ha.replace(/[?#].*/,"").lastIndexOf("/")+1),ea&&(ja=a=>{var b=new XMLHttpRequest;b.open("GET",a,!1);b.responseType="arraybuffer";b.send(null);return new Uint8Array(b.response)}),ia=async a=>{a=await fetch(a,{credentials:"same-origin"});if(a.ok)return a.arrayBuffer();throw Error(a.status+" : "+a.url);};
var ka=console.log.bind(console),p=console.error.bind(console);Object.assign(g,fa);fa=null;var q,la,ma=!1,na,oa,pa,qa,ra,sa,ta,ua,va,wa,xa,ya=!1,za=!1;function v(){q.buffer!=oa.buffer&&Aa();return oa}function y(){q.buffer!=oa.buffer&&Aa();return pa}function z(){q.buffer!=oa.buffer&&Aa();return qa}function Ca(){q.buffer!=oa.buffer&&Aa();return ra}function A(){q.buffer!=oa.buffer&&Aa();return sa}function B(){q.buffer!=oa.buffer&&Aa();return ta}function Da(){q.buffer!=oa.buffer&&Aa();return ua}
function Ea(){q.buffer!=oa.buffer&&Aa();return xa}
if(n){var Fa,Ha=!1;p=function(...b){console.error(b.join(" "))};self.alert=function(...b){postMessage({lg:"alert",text:b.join(" "),ri:Ia()})};self.onunhandledrejection=b=>{throw b.reason||b;};function a(b){try{var c=b.data,d=c.lg;if("load"===d){let e=[];self.onmessage=f=>e.push(f);self.startWorker=()=>{postMessage({lg:"loaded"});for(let f of e)a(f);self.onmessage=a};for(const f of c.ai)if(!g[f]||g[f].proxy)g[f]=(...h)=>{postMessage({lg:"callHandler",$h:f,Sh:h})},"print"==f&&(ka=g[f]),"printErr"==
f&&(p=g[f]);q=c.ti;Aa();Fa(c.ui)}else if("run"===d){Ja(c.ng);Ka(c.ng,0,0,1,0,0);La(c);Ma();Na(c.ng);Ha||(Oa(),Ha=!0);try{Pa(c.oi,c.Mg)}catch(e){if("unwind"!=e)throw e;}}else"setimmediate"!==c.target&&("checkMailbox"===d?Ha&&Qa():d&&(p(`worker: received unknown command ${d}`),p(c)))}catch(e){throw Ra(),e;}}self.onmessage=a}
function Aa(){var a=q.buffer;oa=new Int8Array(a);qa=new Int16Array(a);pa=new Uint8Array(a);ra=new Uint16Array(a);sa=new Int32Array(a);ta=new Uint32Array(a);ua=new Float32Array(a);xa=new Float64Array(a);va=new BigInt64Array(a);wa=new BigUint64Array(a)}n||(q=new WebAssembly.Memory({initial:2048,maximum:(/iPad|iPhone|iPod/.test("undefined"!==typeof navigator?navigator.userAgent:"")?536870912:2147483648)/65536,shared:!0}),Aa());function Sa(){ya=!0;n?startWorker(g):C.vd()}var Ta=0,Ua=null;
function Va(){Ta--;if(0==Ta&&Ua){var a=Ua;Ua=null;a()}}function Wa(a){a="Aborted("+a+")";p(a);ma=!0;a+=". Build with -sASSERTIONS for more info.";ya&&Xa();a=new WebAssembly.RuntimeError(a);ba(a);throw a;}var Ya;async function Za(a){try{var b=await ia(a);return new Uint8Array(b)}catch{}if(ja)a=ja(a);else throw"both async and sync fetching of the wasm failed";return a}
async function $a(a,b){try{var c=await Za(a);return await WebAssembly.instantiate(c,b)}catch(d){p(`failed to asynchronously prepare wasm: ${d}`),Wa(d)}}async function ab(a){var b=Ya;if("function"==typeof WebAssembly.instantiateStreaming)try{var c=fetch(b,{credentials:"same-origin"});return await WebAssembly.instantiateStreaming(makeResponseWithLoading(c),a)}catch(d){p(`wasm streaming compile failed: ${d}`),p("falling back to ArrayBuffer instantiation")}return $a(b,a)}
function bb(){cb={ib:db,zc:eb,Dc:fb,Qc:gb,m:hb,fb:ib,ic:jb,fc:kb,q:lb,d:mb,eb:nb,j:ob,T:pb,t:qb,hc:rb,Ka:sb,D:tb,f:ub,jc:vb,Kc:wb,xc:xb,Ec:yb,Bc:zb,jb:Ab,Jc:Na,Nc:Bb,i:Cb,aa:Db,ha:Eb,c:Fb,gb:Gb,K:Hb,g:Ib,W:Jb,pa:Kb,hb:Lb,h:Mb,e:Nb,n:Ob,Fc:Pb,Gc:Qb,Hc:Rb,kc:Sb,Ic:Tb,rc:Ub,pc:Vb,qc:Wb,nc:Xb,lc:Yb,sc:Zb,oc:$b,mc:ac,uc:bc,ud:cc,Tb:dc,Nb:ec,Ob:fc,Ub:gc,Vb:hc,Rb:ic,Sb:jc,Pb:kc,Xa:lc,Qb:mc,oa:nc,Ya:oc,Pc:pc,ab:qc,rd:rc,y:sc,Bb:tc,Za:uc,kb:vc,C:wc,La:xc,Tc:yc,cb:zc,Rc:Ac,Ab:Bc,db:Cc,bb:Dc,Ia:Ec,yc:Fc,b:Gc,
Xb:Hc,Wb:Ic,Yb:Jc,Ha:Kc,ka:Lc,tc:Mc,ec:Nc,wc:Oc,Ja:Pc,mb:Qc,lb:Rc,gc:Sc,_a:Tc,tb:Uc,rb:Vc,sb:Wc,pb:Xc,ob:Yc,qb:Zc,nb:$c,Sc:ad,Cc:bd,Uc:cd,Vc:dd,ub:ed,Oc:fd,bc:gd,dc:hd,Lc:jd,Mc:kd,Ma:ld,pd:md,cc:nd,ba:od,_c:pd,p:qd,w:rd,Q:sd,x:td,k:ud,Ua:vd,ia:wd,fd:xd,H:yd,Ra:zd,Jb:Ad,Aa:Bd,la:Cd,Gb:Dd,Va:Ed,bd:Fd,$c:Gd,dd:Hd,Ga:Id,v:Jd,na:Kd,vb:Ld,ea:Md,Qa:Nd,S:Od,G:Pd,V:Qd,ga:Rd,Wc:Sd,A:Td,I:Ud,Kb:Vd,Sa:Wd,o:Xd,F:Yd,P:Zd,Da:$d,Fa:ae,N:be,ma:ce,ca:de,X:ee,L:fe,gd:ge,Xc:he,Oa:ie,Ea:je,Y:ke,U:le,Yc:me,wb:ne,ad:oe,
xb:pe,l:qe,z:re,fa:te,Lb:ue,Na:ve,Mb:we,ra:xe,da:ye,Zc:ze,Ba:Ae,Wa:Be,Ib:Ce,td:De,Ca:Ee,yb:Fe,Ta:Ge,cd:He,R:Ie,s:Je,ja:Ke,B:Le,M:Me,Pa:Ne,qa:Oe,ed:Pe,_:Qe,u:Re,r:Se,E:Te,O:Ue,ac:Ve,$b:We,a:q,zb:Xe,sd:Ye,Ac:Ze,vc:$e,Zb:af,Hb:bf,_b:cf,$a:df,id:ef,ld:ff,md:gf,kd:hf,jd:jf,wa:kf,nd:lf,ta:mf,$:nf,J:of,Fb:pf,ya:qf,za:rf,od:sf,hd:tf,sa:uf,Eb:vf,ua:wf,va:xf,xa:yf,Cb:zf,Db:Af,Z:Bf,qd:Cf};return{a:cb}}
var Ef={12576636:(a,b,c,d)=>{if("undefined"==typeof g||!g.Qh)return 1;a=D(a>>>0);a.startsWith("./")&&(a=a.substring(2));a=g.Qh.get(a);if(!a)return 2;b>>>=0;c>>>=0;d>>>=0;if(b+c>a.byteLength)return 3;try{return y().set(a.subarray(b,b+c),d),0}catch{return 4}},12577137:()=>g.MxCaptureRunning?1:0,12577184:a=>{a=D(a).replace(/^#/,"");const b=document.getElementById(a),c=document.createElement("canvas");c.width=b.width;c.height=b.height;c.style=b.style;b.replaceWith(c);c.id=a},12577497:()=>/Mobile|Android|iPhone|iPad/i.test(navigator.userAgent),
12577565:()=>{let a=!0,b=null,c=0;const d=f=>{(null===b||f>c)&&0<f&&(null!==b&&G(b),b=H(f),c=f)},e=self.onmessage;self.onmessage=f=>{if("MxStartFrameProcessing"===f.data.cmd)a=!0;else if("MxFinishFrameProcessing"===f.data.cmd)a=!1,null!==b&&(G(b),b=null,c=0);else if("MxProcessFrame"===f.data.cmd){if(a){var h=f.data.frame,k=f.data.format,l=f.data.width,m=f.data.height,r=f.data.timestamp,u=f.data.change_id,t=f.data.facing_user,x=f.data.full_frame_processing;f=f.data.device_id;if(h instanceof ImageData)h=
h.data,d(h.byteLength),y().set(h,b),g._ingestCameraFrame(b,h.byteLength,k,l,m,r,u,t,x,f);else{var E={x:0,y:0};E.width=l;E.height=m;E={rect:E};var I=h.allocationSize(E);d(I);I=y().subarray(b,b+I);h.copyTo(I,E);g._ingestCameraFrame(b,I.byteLength,k,l,m,r,u,t,x,f);h.close()}}}else e(f)}},12579520:a=>{const b=a.toString();g.MxStartFrameProcessing=()=>{Df[b].postMessage({cmd:"MxStartFrameProcessing"})};g.MxFinishFrameProcessing=()=>{Df[b].postMessage({cmd:"MxFinishFrameProcessing"})};g.MxDispatchFrameToThread=
(c,d,e,f,h,k,l,m,r)=>{Df[b].postMessage({cmd:"MxProcessFrame",frame:c,format:d,width:e,height:f,timestamp:h,change_id:k,facing_user:l,full_frame_processing:m,device_id:r},[c instanceof ImageData?c.data.buffer:c])}},12580359:()=>{g.MxStartFrameProcessing&&g.MxStartFrameProcessing()},12580441:()=>{g.MxFinishFrameProcessing&&g.MxFinishFrameProcessing()},12580525:()=>{window.MxClosePreloadDisplay()},12580564:a=>{a=D(a);window.MxUpdatePreloadDisplay(a)},12580639:a=>{const b=D(a),c=performance.now(),d=
()=>window.MxUpdatePreloadDisplay(b,c);navigator.permissions.query({name:"camera"}).then(e=>{"prompt"==e.state&&d()}).catch(()=>{setTimeout(d,1E3)})},12581070:a=>{console.log(D(a))},12581105:(a,b)=>{fetch("https://telemetry.shen.ai/v1/traces",{method:"POST",body:D(a),headers:{"Content-Type":"application/json","X-Shen-Telemetry-Transport":"http"},keepalive:b})}};function cc(){window.eg||(window.eg=function(){g._handlePagehide()},window.addEventListener("pagehide",window.eg))}
function bf(){window.eg&&(window.removeEventListener("pagehide",window.eg),delete window.eg)}function fd(){navigator.storage&&navigator.storage.persist&&navigator.storage.persist().then(function(a){a||console.log("[Shen.AI SDK] Could not obtain persistent storage (storage may be cleared under pressure).")}).catch(function(a){console.log("[Shen.AI SDK] Error requesting persistent storage:",a)})}
function hd(){(void 0===g.MxCaptureRunning?navigator.mediaDevices.getUserMedia({video:!0}):Promise.resolve()).then(()=>{navigator.mediaDevices.enumerateDevices().then(a=>{g.MxVideoDevices=a.filter(b=>"videoinput"==b.kind).map(b=>({id:b.deviceId??"",label:b.label??""}));g._onVideoDevicesEnumerated()}).catch(()=>{g._onVideoDevicesEnumerationError()})}).catch(()=>{g._onVideoDevicesEnumerationError()})}function nd(){const a=JSON.stringify(g.MxVideoDevices),b=Ff(a)+1,c=H(b);M(a,c,b);return c}
function gd(){g.MxCameraHelpers||(g.MxCameraHelpers=(()=>{function a(e){void 0==g.MxCaptureRunning?(g.MxCaptureRunning=!1,e()):setTimeout(a,100,e)}const b=480/720,c={unsupported:0,I420:1,I420A:2,RGBA:3,RGBX:4,BGRA:5,BGRX:6,NV12:7},d=(e,f,h)=>{let k=e,l=f,m={x:0,y:0};h||(h=k/l,.6>h?(l=Math.floor(k/b),l-=l&1,m.y=Math.floor((f-l)/2)):.75<h&&(k=Math.floor(l*b),k-=k&1,m.x=Math.floor((e-k)/2)));return{width:k,height:l,offset:m}};return{Ph:30,oh:b,vi:c,Li:d,Ih:(e,f,h,k,l,m)=>{g.MxCaptureRunning=!0;g._onCameraInitialized();
const r=e.readable.getReader(),u=async()=>{if(g.MxCaptureRunning)try{const x=await r.read();if(x.value){var t=x.value;g.MxDispatchFrameToThread?g.MxDispatchFrameToThread(t,c[t.format]??c.unsupported,t.codedWidth,t.codedHeight,BigInt(t.timestamp),h,k,l,m):t.close();u()}else setTimeout(u,1E3/30)}catch(x){console.error("Error reading frame:",x)}else try{r.releaseLock(),f.stop(),g.MxCaptureRunning=void 0,g.MxVideoTrack=void 0}catch(x){console.error("Error stopping video:",x)}};u()},Hh:(e,f,h,k,l,m)=>
{const r=new OffscreenCanvas(1,1);let u=r.getContext("2d",{willReadFrequently:!0});const t=document.createElement("video");t.setAttribute("id","shen-camera-proxy");t.setAttribute("playsinline","");t.setAttribute("muted","");t.setAttribute("disablepictureinpicture","");t.style.position="absolute";t.style.top="0";t.style.left="0";t.style.width="1px";t.style.height="1px";document.body.appendChild(t);let x=null,E=0;const I=()=>{clearTimeout(E);try{t.pause(),t.srcObject=null,f.stop(),t.remove()}catch(F){console.error("Error cleaning up video:",
F)}r.width=0;r.height=0;x=u=null;g.MxCaptureRunning=void 0;g.MxVideoTrack=void 0};t.onloadedmetadata=()=>{x=d(t.videoWidth,t.videoHeight,l);r.width=x.width;r.height=x.height;t.play()};t.onplay=()=>{g.MxCaptureRunning=!0;g._onCameraInitialized();const F=1E3/30,J=()=>{if(g.MxCaptureRunning)try{const O=performance.now();if(x){u.drawImage(t,x.offset.x,x.offset.y,x.width,x.height,0,0,x.width,x.height);const w=u.getImageData(0,0,x.width,x.height),T=Math.round(1E3*O);g.MxDispatchFrameToThread&&g.MxDispatchFrameToThread(w,
c.RGBA,x.width,x.height,BigInt(T),h,k,l,m)}E=setTimeout(J,Math.max(0,F-(performance.now()-O)))}catch(O){console.error("Error capturing frame:",O),I()}else I()};J()};t.srcObject=e},Nh:a}})())}
function Ve(a,b,c,d){const e=g.MxCameraHelpers,f=D(d),h=(()=>{if(""===f)return-1;void 0===g.MxDeviceIdStrToIntMap&&(g.MxDeviceIdStrToIntMap=new Map);let l=g.MxDeviceIdStrToIntMap.get(f);void 0===l&&(l=g.MxDeviceIdStrToIntMap.size,g.MxDeviceIdStrToIntMap.set(f,l));return l})(),k={video:(()=>{if(""!==f)return{deviceId:{exact:f}};const l=/Mobile|Android|iPhone|iPad/i.test(navigator.userAgent);var m=/MacIntel|Macintosh/i.test(navigator.userAgent);const r={ideal:/iPhone|iPad/i.test(navigator.userAgent)?
480:m?640:720,min:480};m={ideal:l?1/e.oh:m?.75:e.oh};return{frameRate:{ideal:e.Ph},facingMode:{ideal:b?"user":"environment"},aspectRatio:c?void 0:m,width:l?r:void 0,height:l?void 0:r,resizeMode:l?void 0:{exact:"none"}}})()};e.Nh(function(){navigator.mediaDevices.getUserMedia(k).then(l=>{const m=l.getVideoTracks()[0];"undefined"!==typeof MediaStreamTrackProcessor?e.Ih(new MediaStreamTrackProcessor({track:m}),m,a,b,c,h):e.Hh(l,m,a,b,c,h);g.MxVideoTrack=m}).catch(l=>{g.MxCaptureRunning=void 0;g.MxVideoTrack=
void 0;g._onCameraInitializationError();console.error("Camera initialization error:",l)})})}function We(a,b,c,d){const e=g.MxCameraHelpers,f=Gf(a);e.Nh(function(){try{const h=f.getVideoTracks()[0];"undefined"!==typeof MediaStreamTrackProcessor?e.Ih(new MediaStreamTrackProcessor({track:h}),h,b,c,d,-1):e.Hh(f,h,b,c,d,-1);g.MxVideoTrack=h}catch(h){g.MxCaptureRunning=void 0,g.MxVideoTrack=void 0,g._onCameraInitializationError(),console.error("Media stream initialization error:",h)}})}
function qc(){g.MxCaptureRunning&&(g.MxCaptureRunning=!1)}function df(a){const b=g.MxVideoTrack;if(b&&"undefined"!==typeof b.getCapabilities){const c=b.getCapabilities();b.getSettings();const d={advanced:[]};c.whiteBalanceMode&&d.advanced.push({whiteBalanceMode:a?"manual":"continuous"});0<d.advanced.length&&b.applyConstraints(d).catch(()=>{})}}function cf(){"wakeLock"in navigator&&navigator.wakeLock.request("screen").then(a=>g.MxWakeLock=a).catch(()=>{})}
function af(){g.MxWakeLock&&g.MxWakeLock.release().then(()=>g.MxWakeLock=null).catch(()=>{})}
function rc(){navigator.bluetooth?(console.log("[PolarH10] Starting doScan... requesting device with name 'Polar H10'"),g.polar||(g.polar={device:null,server:null,pmdService:null,controlChar:null,dataChar:null}),navigator.bluetooth.requestDevice({filters:[{namePrefix:"Polar H10"}],optionalServices:["fb005c80-02e7-f387-1cad-8acd2d8df0c8"]}).then(a=>{console.log("[PolarH10] Device chosen:",a);g.polar.device=a;return a.gatt.connect()}).then(a=>{console.log("[PolarH10] GATT connected");g.polar.server=
a;return a.getPrimaryService("fb005c80-02e7-f387-1cad-8acd2d8df0c8")}).then(a=>{console.log("[PolarH10] Found PMD service");g.polar.pmdService=a;return Promise.all([a.getCharacteristic("fb005c81-02e7-f387-1cad-8acd2d8df0c8"),a.getCharacteristic("fb005c82-02e7-f387-1cad-8acd2d8df0c8")])}).then(a=>{const b=a[0];a=a[1];console.log("[PolarH10] Found control & data characteristics");g.polar.controlChar=b;g.polar.dataChar=a;return Promise.all([b.startNotifications(),a.startNotifications()])}).then(()=>
{console.log("[PolarH10] Notifications started");const a=g.polar.dataChar;g.polar.controlChar.addEventListener("characteristicvaluechanged",b=>{b=new Uint8Array(b.target.value.buffer);const c=H(b.length);y().set(b,c);g._onBleControlNotification(c,b.length);G(c)});a.addEventListener("characteristicvaluechanged",b=>{b=new Uint8Array(b.target.value.buffer);const c=H(b.length);y().set(b,c);g._onBleDataNotification(c,b.length);G(c)});g._onBleDeviceReady()}).catch(a=>{console.error("[PolarH10] doScan() error:",
a)})):console.error("Web Bluetooth not supported by this browser")}function Cf(a,b){if(g.polar&&g.polar.controlChar){var c=new Uint8Array(b);for(let d=0;d<b;d++)c[d]=y()[a+d];g.polar.controlChar.writeValue(c).then(()=>{console.log("[PolarH10] ControlChar write success")}).catch(d=>{console.error("[PolarH10] ControlChar write error:",d)})}else console.warn("[PolarH10] No polar.controlChar to write to")}function Ye(a){a=D(a);"undefined"!==typeof window&&window.open(a,"_blank")}
function md(){var a=navigator.userAgent,b="unknown",c="unknown",d=!0,e=navigator.language;-1!==a.indexOf("Chrome")?(b="Chrome",c=a.substr(a.indexOf("Chrome")+7,12)):-1!==a.indexOf("Safari")?(b="Safari",c=a.substr(a.indexOf("Version")+8,8)):-1!==a.indexOf("Firefox")?(b="Firefox",c=a.substr(a.indexOf("Firefox")+8,12)):-1!==a.indexOf("Opera")||-1!==a.indexOf("OPR")?(b="Opera",c=a.substr(a.indexOf("Version")+8,12)):-1!==a.indexOf("Edge")&&(b="Edge",c=a.substr(a.indexOf("Edge")+5,12));if(-1!==a.indexOf("Android"))a=
"Android";else{if("iPad"===navigator.platform||/\b(iPad)\b/i.test(navigator.userAgent||""))var f=!0;else{f="MacIntel"===navigator.platform&&2<navigator.maxTouchPoints;var h="undefined"!==typeof window&&"function"===typeof window.matchMedia?window.matchMedia("(hover: none) and (pointer: coarse)").matches:!1;f=f&&h}f||-1!==a.indexOf("iPhone")||-1!==a.indexOf("iPad")||-1!==a.indexOf("iPod")?a="iOS":-1!==a.indexOf("Mobile")?a="Unknown (mobile)":(a=-1!==a.indexOf("Mac OS")?"Mac OS":-1!==a.indexOf("Windows")?
"Windows":-1!==a.indexOf("Linux")?"Linux":"Unknown (desktop)",d=!1)}b=JSON.stringify({browser:b,version:c,os:a,is_mobile:d,language:e});c=Ff(b)+1;d=H(c);M(b,d,c);return d}class Hf{name="ExitStatus";constructor(a){this.message=`Program terminated with exit(${a})`;this.status=a}}
var If=a=>{a.terminate();a.onmessage=()=>{}},Jf=[],Nf=a=>{if(0==Kf.length){var b=new Worker(new URL("shenai_sdk.mjs",import.meta.url),{type:"module",name:"em-pthread"});Kf.push(b);Lf()}b=Kf.pop();if(!b)return 6;Mf.push(b);Df[a.ng]=b;b.ng=a.ng;var c={lg:"run",oi:a.ni,Mg:a.Mg,ng:a.ng};c.ug=a.ug;c.eh=a.eh;b.postMessage(c,a.Jh);return 0},N=0,P=(a,b,...c)=>{for(var d=2*c.length,e=Of(),f=Pf(8*d),h=f>>3,k=0;k<c.length;k++){var l=c[k];"bigint"==typeof l?(va[h+2*k]=1n,va[h+2*k+1]=l):(va[h+2*k]=
0n,Ea()[h+2*k+1]=l)}a=Qf(a,0,d,f,b);Rf(e);return a};function Ze(a){if(n)return P(0,1,a);na=a;0<N||(Sf(),ma=!0);throw new Hf(a);}var Tf=a=>{if(!(a instanceof Hf||"unwind"==a))throw a;};function Uf(a){if(n)return P(1,0,a);ld(a)}
var ld=a=>{na=a;if(n)throw Uf(a),"unwind";if(!(0<N||n)){Vf();for(var b=Wf;0<b.length;)b.shift()(g);Sf();za=!0}Ze(a)},Kf=[],Mf=[],Xf=[],Df={},Sf=()=>{for(var a of Mf)If(a);for(a of Kf)If(a);Kf=[];Mf=[];Df={}},Zf=a=>{var b=a.ng;delete Df[b];Kf.push(a);Mf.splice(Mf.indexOf(a),1);a.ng=0;Yf(b)};function La(a){"undefined"!=typeof $f&&(Object.assign(ag,a.eh),!g.canvas&&a.ug&&ag[a.ug]&&(g.canvas=ag[a.ug].mg,g.canvas.id=a.ug))}function Ma(){Xf.forEach(a=>a())}
var Lf=()=>{var a=Kf[0];new Promise(b=>{a.onmessage=f=>{f=f.data;var h=f.lg;if(f.Vg&&f.Vg!=Ia()){var k=Df[f.Vg];k?k.postMessage(f,f.Jh):p(`Internal error! Worker sent a message "${h}" to target pthread ${f.Vg}, but that thread no longer exists!`)}else if("checkMailbox"===h)Qa();else if("spawnThread"===h)Nf(f);else if("cleanupThread"===h)Zf(Df[f.pi]);else if("loaded"===h)a.loaded=!0,b(a);else if("alert"===h)alert(`Thread ${f.ri}: ${f.text}`);else if("setimmediate"===f.target)a.postMessage(f);else if("callHandler"===
h)g[f.$h](...f.Sh);else h&&p(`worker sent an unknown command ${h}`)};a.onerror=f=>{p(`${"worker sent an error!"} ${f.filename}:${f.lineno}: ${f.message}`);throw f;};var c=[],d=[],e;for(e of d)g.propertyIsEnumerable(e)&&c.push(e);a.postMessage({lg:"load",ai:c,ti:q,ui:la})})},bg,Ja=a=>{Aa();var b=B()[a+52>>2];a=B()[a+56>>2];cg(b,b-a);Rf(b)},dg=[],fg,Q=a=>{var b=dg[a];b||(a>=dg.length&&(dg.length=a+1),dg[a]=b=fg.get(a));return b},Pa=(a,b)=>{N=0;a=Q(a)(b);0<N?na=a:gg(a)},hg="undefined"!=typeof TextDecoder?
new TextDecoder:void 0,ig=(a,b=0,c=NaN)=>{var d=b+c;for(c=b;a[c]&&!(c>=d);)++c;if(16<c-b&&a.buffer&&hg)return hg.decode(a.buffer instanceof ArrayBuffer?a.subarray(b,c):a.slice(b,c));for(d="";b<c;){var e=a[b++];if(e&128){var f=a[b++]&63;if(192==(e&224))d+=String.fromCharCode((e&31)<<6|f);else{var h=a[b++]&63;e=224==(e&240)?(e&15)<<12|f<<6|h:(e&7)<<18|f<<12|h<<6|a[b++]&63;65536>e?d+=String.fromCharCode(e):(e-=65536,d+=String.fromCharCode(55296|e>>10,56320|e&1023))}}else d+=String.fromCharCode(e)}return d},
D=(a,b)=>a?ig(y(),a,b):"",db=(a,b,c,d)=>Wa(`Assertion failed: ${D(a)}, at: `+[b?D(b):"unknown filename",c,d?D(d):"unknown function"]),eb=(a,b)=>Q(a)(b);function jg(a,b,c,d){return n?P(2,1,a,b,c,d):fb(a,b,c,d)}
var fb=(a,b,c,d)=>{if("undefined"==typeof SharedArrayBuffer)return 6;var e=[],f=0,h=b?B()[b+40>>2]:0;h=(h=4294967295==h?"#canvas":D(h).trim())?h.split(","):[];var k={},l=g.canvas?.id||"";for(m of h){var m=m.trim();try{if("#canvas"==m){if(!g.canvas){p(`pthread_create: could not find canvas with ID "${m}" to transfer to thread!`);f=28;break}m=g.canvas.id}if(ag[m]){var r=ag[m];ag[m]=null;g.canvas instanceof OffscreenCanvas&&m===g.canvas.id&&(g.canvas=null)}else if(!n){var u=g.canvas&&g.canvas.id===m?
g.canvas:document.querySelector(m);if(!u){p(`pthread_create: could not find canvas with ID "${m}" to transfer to thread!`);f=28;break}if(u.zg){p(`pthread_create: cannot transfer canvas with ID "${m}" to thread, since the current thread does not have control over it!`);f=63;break}if(u.transferControlToOffscreen)u.bg||(u.bg=H(12),A()[u.bg>>2]=u.width,A()[u.bg+4>>2]=u.height,B()[u.bg+8>>2]=0),r={mg:u.transferControlToOffscreen(),bg:u.bg,id:u.id},u.zg=!0;else return p(`pthread_create: cannot transfer control of canvas "${m}" to pthread, because current browser does not support OffscreenCanvas!`),
p("pthread_create: Build with -sOFFSCREEN_FRAMEBUFFER to enable fallback proxying of GL commands from pthread to main thread."),52}r&&(e.push(r.mg),k[r.id]=r)}catch(t){return p(`pthread_create: failed to transfer control of canvas "${m}" to OffscreenCanvas! Error: ${t}`),28}}if(n&&(0===e.length||f))return jg(a,b,c,d);if(f)return f;for(u of Object.values(k))B()[u.bg+8>>2]=a;a={ni:c,ng:a,Mg:d,ug:l,eh:k,Jh:e};return n?(a.lg="spawnThread",postMessage(a,e),0):Nf(a)},gb=()=>Wa(""),kg={},lg=a=>{for(;a.length;){var b=
a.pop();a.pop()(b)}};function mg(a){return this.fromWireType(B()[a>>2])}
var ng={},og={},pg={},qg,sg=(a,b,c)=>{function d(k){k=c(k);if(k.length!==a.length)throw new qg("Mismatched type converter count");for(var l=0;l<a.length;++l)rg(a[l],k[l])}a.forEach(k=>pg[k]=b);var e=Array(b.length),f=[],h=0;b.forEach((k,l)=>{og.hasOwnProperty(k)?e[l]=og[k]:(f.push(k),ng.hasOwnProperty(k)||(ng[k]=[]),ng[k].push(()=>{e[l]=og[k];++h;h===f.length&&d(e)}))});0===f.length&&d(e)},hb=a=>{var b=kg[a];delete kg[a];var c=b.fi,d=b.gi,e=b.xh,f=e.map(h=>h.Zh).concat(e.map(h=>h.li));sg([a],f,h=>
{var k={};e.forEach((l,m)=>{var r=h[m],u=l.Xh,t=l.Yh,x=h[m+e.length],E=l.ki,I=l.mi;k[l.Vh]={read:F=>r.fromWireType(u(t,F)),write:(F,J)=>{var O=[];E(I,F,x.toWireType(O,J));lg(O)}}});return[{name:b.name,fromWireType:l=>{var m={},r;for(r in k)m[r]=k[r].read(l);d(l);return m},toWireType:(l,m)=>{for(var r in k)if(!(r in m))throw new TypeError(`Missing field: "${r}"`);var u=c();for(r in k)k[r].write(u,m[r]);null!==l&&l.push(d,u);return u},ig:tg,readValueFromPointer:mg,gg:d}]})},ug,R=a=>{for(var b="";y()[a];)b+=
ug[y()[a++]];return b},vg,wg=a=>{throw new vg(a);};function xg(a,b,c={}){var d=b.name;if(!a)throw new vg(`type "${d}" must have a positive integer typeid pointer`);if(og.hasOwnProperty(a)){if(c.bi)return;throw new vg(`Cannot register type '${d}' twice`);}og[a]=b;delete pg[a];ng.hasOwnProperty(a)&&(b=ng[a],delete ng[a],b.forEach(e=>e()))}function rg(a,b,c={}){return xg(a,b,c)}
var yg=(a,b,c)=>{switch(b){case 1:return c?d=>v()[d]:d=>y()[d];case 2:return c?d=>z()[d>>1]:d=>Ca()[d>>1];case 4:return c?d=>A()[d>>2]:d=>B()[d>>2];case 8:return c?d=>va[d>>3]:d=>wa[d>>3];default:throw new TypeError(`invalid integer width (${b}): ${a}`);}},ib=(a,b,c)=>{b=R(b);rg(a,{name:b,fromWireType:d=>d,toWireType:function(d,e){if("bigint"!=typeof e&&"number"!=typeof e)throw null===e?e="null":(d=typeof e,e="object"===d||"array"===d||"function"===d?e.toString():""+e),new TypeError(`Cannot convert "${e}" to ${this.name}`);
"number"==typeof e&&(e=BigInt(e));return e},ig:tg,readValueFromPointer:yg(b,c,-1==b.indexOf("u")),gg:null})},tg=8,jb=(a,b,c,d)=>{b=R(b);rg(a,{name:b,fromWireType:function(e){return!!e},toWireType:function(e,f){return f?c:d},ig:tg,readValueFromPointer:function(e){return this.fromWireType(y()[e])},gg:null})},zg=[],Ag=[],Fb=a=>{9<a&&0===--Ag[a+1]&&(Ag[a]=void 0,zg.push(a))},Gf=a=>{if(!a)throw new vg("Cannot use deleted val. handle = "+a);return Ag[a]},Bg=a=>{switch(a){case void 0:return 2;case null:return 4;
case !0:return 6;case !1:return 8;default:const b=zg.pop()||Ag.length;Ag[b]=a;Ag[b+1]=1;return b}},Cg={name:"emscripten::val",fromWireType:a=>{var b=Gf(a);Fb(a);return b},toWireType:(a,b)=>Bg(b),ig:tg,readValueFromPointer:mg,gg:null},kb=a=>rg(a,Cg),Dg=(a,b)=>{if(void 0===g[a].kg){var c=g[a];g[a]=function(...d){if(!g[a].kg.hasOwnProperty(d.length))throw new vg(`Function '${b}' called with an invalid number of arguments (${d.length}) - expects one of (${g[a].kg})!`);return g[a].kg[d.length].apply(this,
d)};g[a].kg=[];g[a].kg[c.rh]=c}},Eg=(a,b,c)=>{if(g.hasOwnProperty(a)){if(void 0===c||void 0!==g[a].kg&&void 0!==g[a].kg[c])throw new vg(`Cannot register public name '${a}' twice`);Dg(a,a);if(g[a].kg.hasOwnProperty(c))throw new vg(`Cannot register multiple overloads of a function with the same number of arguments (${c})!`);g[a].kg[c]=b}else g[a]=b,g[a].rh=c},Fg=(a,b,c)=>{switch(b){case 1:return c?function(d){return this.fromWireType(v()[d])}:function(d){return this.fromWireType(y()[d])};case 2:return c?
function(d){return this.fromWireType(z()[d>>1])}:function(d){return this.fromWireType(Ca()[d>>1])};case 4:return c?function(d){return this.fromWireType(A()[d>>2])}:function(d){return this.fromWireType(B()[d>>2])};default:throw new TypeError(`invalid integer width (${b}): ${a}`);}},lb=(a,b,c,d)=>{function e(){}b=R(b);e.values={};rg(a,{name:b,constructor:e,fromWireType:function(f){return this.constructor.values[f]},toWireType:(f,h)=>h.value,ig:tg,readValueFromPointer:Fg(b,c,d),gg:null});Eg(b,e)},Gg=
(a,b)=>Object.defineProperty(b,"name",{value:a}),Ig=a=>{a=Hg(a);var b=R(a);G(a);return b},Jg=(a,b)=>{var c=og[a];if(void 0===c)throw a=`${b} has unknown type ${Ig(a)}`,new vg(a);return c},mb=(a,b,c)=>{var d=Jg(a,"enum");b=R(b);a=d.constructor;d=Object.create(d.constructor.prototype,{value:{value:c},constructor:{value:Gg(`${d.name}_${b}`,function(){})}});a.values[c]=d;a[b]=d},Kg=(a,b)=>{switch(b){case 4:return function(c){return this.fromWireType(Da()[c>>2])};case 8:return function(c){return this.fromWireType(Ea()[c>>
3])};default:throw new TypeError(`invalid float width (${b}): ${a}`);}},nb=(a,b,c)=>{b=R(b);rg(a,{name:b,fromWireType:d=>d,toWireType:(d,e)=>e,ig:tg,readValueFromPointer:Kg(b,c),gg:null})};function Lg(a){for(var b=1;b<a.length;++b)if(null!==a[b]&&void 0===a[b].gg)return!0;return!1}
function Mg(a){var b=Function;if(!(b instanceof Function))throw new TypeError(`new_ called with constructor type ${typeof b} which is not a function`);var c=Gg(b.name||"unknownFunctionName",function(){});c.prototype=b.prototype;c=new c;a=b.apply(c,a);return a instanceof Object?a:c}
var Ng=(a,b)=>{for(var c=[],d=0;d<a;d++)c.push(B()[b+4*d>>2]);return c},Og=(a,b)=>{a=R(a);var c=Q(b);if("function"!=typeof c)throw new vg(`unknown function pointer with signature ${a}: ${b}`);return c},Pg,Qg=(a,b)=>{function c(f){e[f]||og[f]||(pg[f]?pg[f].forEach(c):(d.push(f),e[f]=!0))}var d=[],e={};b.forEach(c);throw new Pg(`${a}: `+d.map(Ig).join([", "]));},Rg=a=>{a=a.trim();const b=a.indexOf("(");return-1===b?a:a.slice(0,b)},ob=(a,b,c,d,e,f,h)=>{var k=Ng(b,c);a=R(a);a=Rg(a);e=Og(d,e);Eg(a,function(){Qg(`Cannot call ${a} due to unbound types`,
k)},b-1);sg([],k,l=>{var m=a;var r=a;l=[l[0],null].concat(l.slice(1));var u=e,t=l.length;if(2>t)throw new vg("argTypes array size mismatch! Must at least get return value and 'this' types!");var x=null!==l[1]&&!1,E=Lg(l),I="void"!==l[0].name;u=[r,wg,u,f,lg,l[0],l[1]];for(var F=0;F<t-2;++F)u.push(l[F+2]);if(!E)for(F=x?1:2;F<l.length;++F)null!==l[F].gg&&u.push(l[F].gg);E=Lg(l);F=l.length-2;var J=[],O=["fn"];x&&O.push("thisWired");for(t=0;t<F;++t)J.push(`arg${t}`),O.push(`arg${t}Wired`);J=J.join(",");
O=O.join(",");J=`return function (${J}) {\n`;E&&(J+="var destructors = [];\n");var w=E?"destructors":"null",T="humanName throwBindingError invoker fn runDestructors retType classParam".split(" ");x&&(J+=`var thisWired = classParam['toWireType'](${w}, this);\n`);for(t=0;t<F;++t)J+=`var arg${t}Wired = argType${t}['toWireType'](${w}, arg${t});\n`,T.push(`argType${t}`);J+=(I||h?"var rv = ":"")+`invoker(${O});\n`;if(E)J+="runDestructors(destructors);\n";else for(t=x?1:2;t<l.length;++t)x=1===t?"thisWired":
"arg"+(t-2)+"Wired",null!==l[t].gg&&(J+=`${x}_dtor(${x});\n`,T.push(`${x}_dtor`));I&&(J+="var ret = retType['fromWireType'](rv);\nreturn ret;\n");let [L,V]=[T,J+"}\n"];L.push(V);l=Mg(L)(...u);r=Gg(r,l);l=b-1;if(!g.hasOwnProperty(m))throw new qg("Replacing nonexistent public symbol");void 0!==g[m].kg&&void 0!==l?g[m].kg[l]=r:(g[m]=r,g[m].rh=l);return[]})},pb=(a,b,c,d,e)=>{b=R(b);-1===e&&(e=4294967295);e=k=>k;if(0===d){var f=32-8*c;e=k=>k<<f>>>f}var h=b.includes("unsigned")?function(k,l){return l>>>
0}:function(k,l){return l};rg(a,{name:b,fromWireType:e,toWireType:h,ig:tg,readValueFromPointer:yg(b,c,0!==d),gg:null})},qb=(a,b,c)=>{function d(f){var h=B()[f>>2];f=B()[f+4>>2];return new e(v().buffer,f,h)}var e=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array,BigInt64Array,BigUint64Array][b];c=R(c);rg(a,{name:c,fromWireType:d,ig:tg,readValueFromPointer:d},{bi:!0})},Sg=(a,b,c,d)=>{if(!(0<d))return 0;var e=c;d=c+d-1;for(var f=0;f<a.length;++f){var h=a.charCodeAt(f);
if(55296<=h&&57343>=h){var k=a.charCodeAt(++f);h=65536+((h&1023)<<10)|k&1023}if(127>=h){if(c>=d)break;b[c++]=h}else{if(2047>=h){if(c+1>=d)break;b[c++]=192|h>>6}else{if(65535>=h){if(c+2>=d)break;b[c++]=224|h>>12}else{if(c+3>=d)break;b[c++]=240|h>>18;b[c++]=128|h>>12&63}b[c++]=128|h>>6&63}b[c++]=128|h&63}}b[c]=0;return c-e},M=(a,b,c)=>Sg(a,y(),b,c),Ff=a=>{for(var b=0,c=0;c<a.length;++c){var d=a.charCodeAt(c);127>=d?b++:2047>=d?b+=2:55296<=d&&57343>=d?(b+=4,++c):b+=3}return b},rb=(a,b)=>{b=R(b);rg(a,
{name:b,fromWireType:function(c){for(var d=B()[c>>2],e=c+4,f,h=e,k=0;k<=d;++k){var l=e+k;if(k==d||0==y()[l])h=D(h,l-h),void 0===f?f=h:(f+=String.fromCharCode(0),f+=h),h=l+1}G(c);return f},toWireType:function(c,d){d instanceof ArrayBuffer&&(d=new Uint8Array(d));var e="string"==typeof d;if(!(e||d instanceof Uint8Array||d instanceof Uint8ClampedArray||d instanceof Int8Array))throw new vg("Cannot pass non-string to std::string");var f=e?Ff(d):d.length;var h=H(4+f+1),k=h+4;B()[h>>2]=f;if(e)M(d,k,f+1);
else if(e)for(e=0;e<f;++e){var l=d.charCodeAt(e);if(255<l)throw G(h),new vg("String has UTF-16 code units that do not fit in 8 bits");y()[k+e]=l}else for(e=0;e<f;++e)y()[k+e]=d[e];null!==c&&c.push(G,h);return h},ig:tg,readValueFromPointer:mg,gg(c){G(c)}})},Tg="undefined"!=typeof TextDecoder?new TextDecoder("utf-16le"):void 0,Ug=(a,b)=>{var c=a>>1;for(var d=c+b/2;!(c>=d)&&Ca()[c];)++c;c<<=1;if(32<c-a&&Tg)return Tg.decode(y().slice(a,c));c="";for(d=0;!(d>=b/2);++d){var e=z()[a+2*d>>1];if(0==e)break;
c+=String.fromCharCode(e)}return c},Vg=(a,b,c)=>{c??=2147483647;if(2>c)return 0;c-=2;var d=b;c=c<2*a.length?c/2:a.length;for(var e=0;e<c;++e){var f=a.charCodeAt(e);z()[b>>1]=f;b+=2}z()[b>>1]=0;return b-d},Wg=a=>2*a.length,Xg=(a,b)=>{for(var c=0,d="";!(c>=b/4);){var e=A()[a+4*c>>2];if(0==e)break;++c;65536<=e?(e-=65536,d+=String.fromCharCode(55296|e>>10,56320|e&1023)):d+=String.fromCharCode(e)}return d},Yg=(a,b,c)=>{c??=2147483647;if(4>c)return 0;var d=b;c=d+c-4;for(var e=0;e<a.length;++e){var f=a.charCodeAt(e);
if(55296<=f&&57343>=f){var h=a.charCodeAt(++e);f=65536+((f&1023)<<10)|h&1023}A()[b>>2]=f;b+=4;if(b+4>c)break}A()[b>>2]=0;return b-d},Zg=a=>{for(var b=0,c=0;c<a.length;++c){var d=a.charCodeAt(c);55296<=d&&57343>=d&&++c;b+=4}return b},sb=(a,b,c)=>{c=R(c);if(2===b){var d=Ug;var e=Vg;var f=Wg;var h=k=>Ca()[k>>1]}else 4===b&&(d=Xg,e=Yg,f=Zg,h=k=>B()[k>>2]);rg(a,{name:c,fromWireType:k=>{for(var l=B()[k>>2],m,r=k+4,u=0;u<=l;++u){var t=k+4+u*b;if(u==l||0==h(t))r=d(r,t-r),void 0===m?m=r:(m+=String.fromCharCode(0),
m+=r),r=t+b}G(k);return m},toWireType:(k,l)=>{if("string"!=typeof l)throw new vg(`Cannot pass non-string to C++ string type ${c}`);var m=f(l),r=H(4+m+b);B()[r>>2]=m/b;e(l,r+4,m+b);null!==k&&k.push(G,r);return r},ig:tg,readValueFromPointer:mg,gg(k){G(k)}})},tb=(a,b,c,d,e,f)=>{kg[a]={name:R(b),fi:Og(c,d),gi:Og(e,f),xh:[]}},ub=(a,b,c,d,e,f,h,k,l,m)=>{kg[a].xh.push({Vh:R(b),Zh:c,Xh:Og(d,e),Yh:f,li:h,ki:Og(k,l),mi:m})},vb=(a,b)=>{b=R(b);rg(a,{di:!0,name:b,ig:0,fromWireType:()=>{},toWireType:()=>{}})},
wb=a=>{Ka(a,!ea,1,!da,2097152,!1);Ma()},$g=()=>{if(!(za||0<N))try{n?gg(na):ld(na)}catch(a){Tf(a)}},ah=a=>{if(!za&&!ma)try{a(),$g()}catch(b){Tf(b)}},Na=a=>{"function"===typeof Atomics.si&&(Atomics.si(A(),a>>2,a).value.then(Qa),a+=128,Atomics.store(A(),a>>2,1))},Qa=()=>{var a=Ia();a&&(Na(a),ah(bh))},xb=(a,b)=>{a==b?setTimeout(Qa):n?postMessage({Vg:a,lg:"checkMailbox"}):(a=Df[a])&&a.postMessage({lg:"checkMailbox"})},ch=[],yb=(a,b,c,d,e)=>{d/=2;ch.length=d;e>>=3;for(var f=0;f<d;f++)ch[f]=va[e+2*f]?va[e+
2*f+1]:Ea()[e+2*f+1];a=b?Ef[b]:dh[a];bg=c;c=a(...ch);bg=0;return c},zb=()=>{N=0},Ab=a=>{n?postMessage({lg:"cleanupThread",pi:a}):Zf(Df[a])},Bb=()=>{},eh=(a,b,c)=>{var d=[];a=a.toWireType(d,c);d.length&&(B()[b>>2]=Bg(d));return a},Cb=(a,b,c)=>{a=Gf(a);b=Jg(b,"emval::as");return eh(b,c,a)},fh=[],Db=(a,b,c,d)=>{a=fh[a];b=Gf(b);return a(null,b,c,d)},gh={},hh=a=>{var b=gh[a];return void 0===b?R(a):b},Eb=(a,b,c,d,e)=>{a=fh[a];b=Gf(b);c=hh(c);return a(b,b[c],d,e)},ih=()=>"object"==typeof globalThis?globalThis:
Function("return this")(),Gb=a=>{if(0===a)return Bg(ih());a=hh(a);return Bg(ih()[a])},jh=a=>{var b=fh.length;fh.push(a);return b},kh=(a,b)=>{for(var c=Array(a),d=0;d<a;++d)c[d]=Jg(B()[b+4*d>>2],"parameter "+d);return c},Hb=(a,b,c)=>{b=kh(a,b);var d=b.shift();a--;var e="return function (obj, func, destructorsRef, args) {\n",f=0,h=[];0===c&&h.push("obj");for(var k=["retType"],l=[d],m=0;m<a;++m)h.push("arg"+m),k.push("argType"+m),l.push(b[m]),e+=`  var arg${m} = argType${m}.readValueFromPointer(args${f?
"+"+f:""});\n`,f+=b[m].ig;e+=`  var rv = ${1===c?"new func":"func.call"}(${h.join(", ")});\n`;d.di||(k.push("emval_returnValue"),l.push(eh),e+="  return emval_returnValue(retType, destructorsRef, rv);\n");k.push(e+"};\n");a=Mg(k)(...l);c=`methodCaller<(${b.map(r=>r.name).join(", ")}) => ${d.name}>`;return jh(Gg(c,a))},Ib=(a,b)=>{a=Gf(a);b=Gf(b);return Bg(a[b])},Jb=a=>{9<a&&(Ag[a+1]+=1)},Kb=()=>Bg([]),Lb=a=>{a=Gf(a);for(var b=Array(a.length),c=0;c<a.length;c++)b[c]=a[c];return Bg(b)},Mb=a=>Bg(hh(a)),
Nb=a=>{var b=Gf(a);lg(b);Fb(a)},Ob=(a,b)=>{a=Jg(a,"_emval_take_value");a=a.readValueFromPointer(b);return Bg(a)};function Pb(a,b){a=-9007199254740992>a||9007199254740992<a?NaN:Number(a);a=new Date(1E3*a);A()[b>>2]=a.getUTCSeconds();A()[b+4>>2]=a.getUTCMinutes();A()[b+8>>2]=a.getUTCHours();A()[b+12>>2]=a.getUTCDate();A()[b+16>>2]=a.getUTCMonth();A()[b+20>>2]=a.getUTCFullYear()-1900;A()[b+24>>2]=a.getUTCDay();a=(a.getTime()-Date.UTC(a.getUTCFullYear(),0,1,0,0,0,0))/864E5|0;A()[b+28>>2]=a}
var lh=a=>0===a%4&&(0!==a%100||0===a%400),mh=[0,31,60,91,121,152,182,213,244,274,305,335],nh=[0,31,59,90,120,151,181,212,243,273,304,334];
function Qb(a,b){a=-9007199254740992>a||9007199254740992<a?NaN:Number(a);a=new Date(1E3*a);A()[b>>2]=a.getSeconds();A()[b+4>>2]=a.getMinutes();A()[b+8>>2]=a.getHours();A()[b+12>>2]=a.getDate();A()[b+16>>2]=a.getMonth();A()[b+20>>2]=a.getFullYear()-1900;A()[b+24>>2]=a.getDay();var c=(lh(a.getFullYear())?mh:nh)[a.getMonth()]+a.getDate()-1|0;A()[b+28>>2]=c;A()[b+36>>2]=-(60*a.getTimezoneOffset());c=(new Date(a.getFullYear(),6,1)).getTimezoneOffset();var d=(new Date(a.getFullYear(),0,1)).getTimezoneOffset();
a=(c!=d&&a.getTimezoneOffset()==Math.min(d,c))|0;A()[b+32>>2]=a}
function Rb(a){var b=new Date(A()[a+20>>2]+1900,A()[a+16>>2],A()[a+12>>2],A()[a+8>>2],A()[a+4>>2],A()[a>>2],0),c=A()[a+32>>2],d=b.getTimezoneOffset(),e=(new Date(b.getFullYear(),6,1)).getTimezoneOffset(),f=(new Date(b.getFullYear(),0,1)).getTimezoneOffset(),h=Math.min(f,e);0>c?A()[a+32>>2]=Number(e!=f&&h==d):0<c!=(h==d)&&(e=Math.max(f,e),b.setTime(b.getTime()+6E4*((0<c?h:e)-d)));A()[a+24>>2]=b.getDay();c=(lh(b.getFullYear())?mh:nh)[b.getMonth()]+b.getDate()-1|0;A()[a+28>>2]=c;A()[a>>2]=b.getSeconds();
A()[a+4>>2]=b.getMinutes();A()[a+8>>2]=b.getHours();A()[a+12>>2]=b.getDate();A()[a+16>>2]=b.getMonth();A()[a+20>>2]=b.getYear();a=b.getTime();return BigInt(isNaN(a)?-1:a/1E3)}var oh={},Gc=()=>performance.timeOrigin+performance.now();function Sb(a,b){if(n)return P(3,1,a,b);oh[a]&&(clearTimeout(oh[a].id),delete oh[a]);if(!b)return 0;var c=setTimeout(()=>{delete oh[a];ah(()=>ph(a,performance.timeOrigin+performance.now()))},b);oh[a]={id:c,Yi:b};return 0}
var Tb=(a,b,c,d)=>{var e=(new Date).getFullYear(),f=(new Date(e,0,1)).getTimezoneOffset();e=(new Date(e,6,1)).getTimezoneOffset();var h=Math.max(f,e);B()[a>>2]=60*h;A()[b>>2]=Number(f!=e);b=k=>{var l=Math.abs(k);return`UTC${0<=k?"-":"+"}${String(Math.floor(l/60)).padStart(2,"0")}${String(l%60).padStart(2,"0")}`};a=b(f);b=b(e);e<f?(M(a,c,17),M(b,d,17)):(M(a,d,17),M(b,c,17))},Ub=(a,b)=>y().set(qh[a].Wh,b),rh=[],Vb=()=>rh.length,qh=[],Wb=()=>qh.length,Xb=(a,b)=>{a=rh[a].yi;M(a,b,Ff(a)+1)},Yb=a=>qh[a].mode,
Zb=a=>qh[a].Wh.length,$b=(a,b)=>{a=rh[a].Si;M(a,b,Ff(a)+1)},ac=(a,b)=>{a=qh[a].Ti;M(a,b,Ff(a)+1)},sh=[],bc=()=>{a:{if(!sh.length){var a=null;"undefined"!=typeof window&&"function"==typeof window.prompt&&(a=window.prompt("Input: "),null!==a&&(a+="\n"));if(!a){var b=null;break a}b=Array(Ff(a)+1);a=Sg(a,b,0,b.length);b.length=a;sh=b}b=sh.shift()}return"number"===typeof b?b:-1},Ch=(a,b)=>{th=a;uh=b;if(vh)if(wh||(N+=1,wh=!0),0==a)xh=function(){setTimeout(yh,Math.max(0,zh+b-(performance.timeOrigin+performance.now()))|
0)};else if(1==a)xh=function(){Ah(yh)};else if(2==a){if("undefined"==typeof Bh)if("undefined"==typeof setImmediate){var c=[];addEventListener("message",d=>{if("setimmediate"===d.data||"setimmediate"===d.data.target)d.stopPropagation(),c.shift()()},!0);Bh=d=>{c.push(d);ea?(g.setImmediates??(g.setImmediates=[]),g.setImmediates.push(d),postMessage({target:"setimmediate"})):postMessage("setimmediate","*")}}else Bh=setImmediate;xh=function(){Bh(yh)}}},Kh=(a,b,c,d,e)=>{function f(){return h<Dh?(--N,$g(),
!1):!0}vh=a;Eh=d;var h=Dh;wh=!1;yh=function(){if(!ma)if(0<Fh.length){var k=Fh.shift();k.Ji(k.Mg);if(Gh){var l=Gh,m=0==l%1?l-1:Math.floor(l);Gh=k.zi?m:(8*l+(m+.5))/9}f()&&setTimeout(yh,0)}else if(f())if(Hh=Hh+1|0,1==th&&1<uh&&0!=Hh%uh)xh();else{0==th&&(zh=performance.timeOrigin+performance.now());a:if(!ma){for(k of Ih)if(!1===k())break a;ah(a);for(l of Jh)l()}f()&&xh()}};e||(0<b?Ch(0,1E3/b):Ch(1,1),xh());if(c)throw"unwind";},wh=!1,xh=null,Dh=0,vh=null,Eh=0,th=0,uh=0,Hh=0,Fh=[],Ih=[],Jh=[];
function Lh(){xh=null;Dh++}var Mh=0;function Ah(a){if("function"==typeof requestAnimationFrame)requestAnimationFrame(a);else{var b=Date.now();if(0===Mh)Mh=b+1E3/60;else for(;b+2>=Mh;)Mh+=1E3/60;setTimeout(a,Math.max(Mh-b,0))}}
var Nh={},zh,yh,Bh,Gh,Oh=25,Ph="Emscripten OpenAL",Qh={},Rh={},S=null,Sh={0:{id:0,Eg:0,Yf:null,frequency:0,qg:2,channels:1,length:0}},Th=1,Uh=[],Wh=a=>{if((1!==th||"visible"==document.visibilityState)&&4114===a.state){for(var b=Vh(a),c=a.dg,d=a.cg,e=a.ag,f=0;f<a.$f.length;f++){var h=a.$f[f];c=h.Lg+h.xg;d=0;e+=h.qh+1}k||=.1;var k=b+k;for(b=0;c<k;){if(e>=a.Xf.length)if(a.pg)e%=a.Xf.length;else break;f=a.Xf[e%a.Xf.length];if(0===f.length){if(b++,b===a.Xf.length)break}else{h=a.context.fg.createBufferSource();
h.buffer=f.Yf;h.playbackRate.value=a.playbackRate;if(f.Yf.Kg||f.Yf.Jg)h.loopStart=f.Yf.Kg,h.loopEnd=f.Yf.Jg;if(4136===a.type&&a.pg){var l=Number.POSITIVE_INFINITY;h.loop=!0;f.Yf.Kg&&(h.loopStart=f.Yf.Kg);f.Yf.Jg&&(h.loopEnd=f.Yf.Jg)}else l=(f.Yf.duration-d)/a.playbackRate;h.Rh=d;h.xg=l;h.qh=b;b=0;h.connect(a.gain);"undefined"!=typeof h.start?(c=Math.max(c,a.context.fg.currentTime),h.start(c,d)):"undefined"!=typeof h.noteOn&&(c=Math.max(c,a.context.fg.currentTime),h.noteOn(c));h.Lg=c;a.$f.push(h);
c+=l}d=0;e++}}},Vh=a=>{var b=a.context.fg.currentTime;if(4114!==a.state)return b;isFinite(a.dg)||(a.dg=b-a.cg/a.playbackRate,a.cg=0);for(var c;a.$f.length;){c=a.$f[0];a.ag+=c.qh;c=c.Lg+c.xg;if(b<c)break;a.$f.shift();a.dg=c;a.cg=0;a.ag++}if(a.ag>=a.Xf.length&&!a.pg)Xh(a,4116);else if(4136===a.type&&a.pg)if(c=a.Xf[0],0===c.length)a.cg=0;else{var d=(b-a.dg)*a.playbackRate,e=c.Yf.Kg||0,f=c.Yf.Jg||c.Yf.duration;f<=e&&(f=c.Yf.duration);d<f?a.cg=d:a.cg=e+(d-e)%(f-e)}else if(a.$f[0])a.cg=(b-a.$f[0].Lg)*a.playbackRate;
else for(4136!==a.type&&a.pg&&(c=Yh(a)/a.playbackRate,0<c&&(a.dg+=Math.floor((b-a.dg)/c)*c)),d=0;d<a.Xf.length;d++){if(a.ag>=a.Xf.length)if(a.pg)a.ag%=a.Xf.length;else{Xh(a,4116);break}c=a.Xf[a.ag];if(0<c.length){c=a.dg+c.Yf.duration/a.playbackRate;if(b<c){a.cg=(b-a.dg)*a.playbackRate;break}a.dg=c}a.cg=0;a.ag++}return b},Zh=a=>{for(var b=0;b<a.$f.length;b++)a.$f[b].stop();a.$f.length=0},Xh=(a,b)=>{if(4114===b){if(4114===a.state||4116==a.state)a.ag=0,a.cg=0;Zh(a);a.state=4114;a.dg=Number.NEGATIVE_INFINITY;
Wh(a)}else 4115===b?4114===a.state&&(Vh(a),Zh(a),a.state=4115):4116===b?4113!==a.state&&(a.state=4116,a.ag=a.Xf.length,a.dg=Number.NEGATIVE_INFINITY,a.cg=0,Zh(a)):4113===b&&4113!==a.state&&(a.state=4113,a.ag=0,a.dg=Number.NEGATIVE_INFINITY,a.cg=0,Zh(a))},bi=a=>{if(4144!==a.type){for(var b=Sh[0],c=0;c<a.Xf.length;c++)if(0!==a.Xf[c].id){b=a.Xf[c];break}1===a.hh||2===a.hh&&1===b.channels?a.Zf||(a.Zf=a.context.fg.createPanner(),$h(a),ai(a),a.Zf.connect(a.context.gain),a.gain.disconnect(),a.gain.connect(a.Zf)):
a.Zf&&(a.Zf.disconnect(),a.gain.disconnect(),a.gain.connect(a.context.gain),a.Zf=null)}},ci=a=>{for(var b in a.sources)$h(a.sources[b])},$h=a=>{var b=a.Zf;if(b)switch(b.refDistance=a.refDistance,b.maxDistance=a.maxDistance,b.rolloffFactor=a.rolloffFactor,b.panningModel=a.context.yh?"HRTF":"equalpower",a.context.Gh?a.distanceModel:a.context.distanceModel){case 0:b.distanceModel="inverse";b.refDistance=3.40282E38;break;case 53249:case 53250:b.distanceModel="inverse";break;case 53251:case 53252:b.distanceModel=
"linear";break;case 53253:case 53254:b.distanceModel="exponential"}},ai=a=>{if(a.Zf){var b=a.Zf,c=a.position[0],d=a.position[1],e=a.position[2],f=a.direction[0],h=a.direction[1],k=a.direction[2],l=a.context.listener,m=l.position[0],r=l.position[1],u=l.position[2];if(a.gh){var t=-l.direction[0],x=-l.direction[1],E=-l.direction[2],I=l.mh[0],F=l.mh[1],J=l.mh[2],O=(Ga,Ba,se)=>{Ga=Math.sqrt(Ga*Ga+Ba*Ba+se*se);return Ga<Number.EPSILON?0:1/Ga},w=O(t,x,E);t*=w;x*=w;E*=w;w=O(I,F,J);I*=w;F*=w;J*=w;var T=F*
E-J*x,L=J*t-I*E,V=I*x-F*t;w=O(T,L,V);T*=w;L*=w;V*=w;I=x*V-E*L;F=E*T-t*V;J=t*L-x*T;O=f;w=h;var K=k;f=O*T+w*I+K*t;h=O*L+w*F+K*x;k=O*V+w*J+K*E;O=c;w=d;K=e;c=O*T+w*I+K*t+m;d=O*L+w*F+K*x+r;e=O*V+w*J+K*E+u}b.positionX?(c!=b.positionX.value&&(b.positionX.value=c),d!=b.positionY.value&&(b.positionY.value=d),e!=b.positionZ.value&&(b.positionZ.value=e)):b.setPosition(c,d,e);b.orientationX?(f!=b.orientationX.value&&(b.orientationX.value=f),h!=b.orientationY.value&&(b.orientationY.value=h),k!=b.orientationZ.value&&
(b.orientationZ.value=k)):b.setOrientation(f,h,k);b=a.Dg;f=a.og[0];h=a.og[1];k=a.og[2];t=l.og[0];x=l.og[1];l=l.og[2];c===m&&d===r&&e===u||f===t&&h===x&&k===l?a.Dg=1:(E=a.context.speedOfSound,I=a.context.dopplerFactor,c=m-c,d=r-d,e=u-e,u=Math.sqrt(c*c+d*d+e*e),a.Dg=(E-I*Math.min((c*t+d*x+e*l)/u,E/I))/(E-I*Math.min((c*f+d*h+e*k)/u,E/I)));a.Dg!==b&&di(a)}},di=a=>{if(4114===a.state){Vh(a);for(var b=1;b<a.$f.length;b++)a.$f[b].stop();1<a.$f.length&&(a.$f.length=1);if(b=a.$f[0])b.xg=4136===a.type&&a.pg?
Number.POSITIVE_INFINITY:(b.buffer.duration-b.Rh)/a.playbackRate,b.playbackRate.value=a.playbackRate,Wh(a)}},Yh=a=>{for(var b=0,c=0;c<a.Xf.length;c++){var d=a.Xf[c].Yf;b+=d?d.duration:0}return b},ei=(a,b)=>{var c=4114==a.state;c&&Xh(a,4113);if(null!==a.Xf[a.ag].Yf){for(a.ag=0;b>a.Xf[a.ag].Yf.duration;)b-=a.Xf[a.ag].Yf.duration,a.ag++;a.cg=b}c&&Xh(a,4114)},fi=(a,b,c)=>{if(S)if(a=S.sources[a])if(null===c)S.Wf=40962;else switch(b){case 514:1===c?(a.gh=!0,ai(a)):0===c?(a.gh=!1,ai(a)):S.Wf=40963;break;
case 4097:if(!Number.isFinite(c)){S.Wf=40963;break}a.coneInnerAngle=c;a.Zf&&(a.Zf.coneInnerAngle=c%360);break;case 4098:if(!Number.isFinite(c)){S.Wf=40963;break}a.coneOuterAngle=c;a.Zf&&(a.Zf.coneOuterAngle=c%360);break;case 4099:if(!Number.isFinite(c)||0>=c){S.Wf=40963;break}if(a.pitch===c)break;a.pitch=c;di(a);break;case 4100:if(!Number.isFinite(c[0])||!Number.isFinite(c[1])||!Number.isFinite(c[2])){S.Wf=40963;break}a.position[0]=c[0];a.position[1]=c[1];a.position[2]=c[2];ai(a);break;case 4101:if(!Number.isFinite(c[0])||
!Number.isFinite(c[1])||!Number.isFinite(c[2])){S.Wf=40963;break}a.direction[0]=c[0];a.direction[1]=c[1];a.direction[2]=c[2];ai(a);break;case 4102:if(!Number.isFinite(c[0])||!Number.isFinite(c[1])||!Number.isFinite(c[2])){S.Wf=40963;break}a.og[0]=c[0];a.og[1]=c[1];a.og[2]=c[2];ai(a);break;case 4103:if(1===c)a.pg=!0,Vh(a),4136===a.type&&0<a.$f.length&&(c=a.$f[0],c.loop=!0,c.xg=Number.POSITIVE_INFINITY);else if(0===c){a.pg=!1;var d=Vh(a);4136===a.type&&0<a.$f.length&&(c=a.$f[0],c.loop=!1,c.xg=a.Xf[0].Yf.duration/
a.playbackRate,c.Lg=d-a.cg/a.playbackRate)}else S.Wf=40963;break;case 4105:if(4114===a.state||4115===a.state){S.Wf=40964;break}if(0===c){for(d in a.Xf)a.Xf[d].Eg--;a.Xf.length=1;a.Xf[0]=Sh[0];a.ag=0;a.type=4144}else{var e=Sh[c];if(!e){S.Wf=40963;break}for(d in a.Xf)a.Xf[d].Eg--;a.Xf.length=0;e.Eg++;a.Xf=[e];a.ag=0;a.type=4136}bi(a);Wh(a);break;case 4106:if(!Number.isFinite(c)||0>c){S.Wf=40963;break}a.gain.gain.value=c;break;case 4109:if(!Number.isFinite(c)||0>c||c>Math.min(a.Ah,1)){S.Wf=40963;break}a.Bh=
c;break;case 4110:if(!Number.isFinite(c)||c<Math.max(0,a.Bh)||1<c){S.Wf=40963;break}a.Ah=c;break;case 4128:if(!Number.isFinite(c)||0>c){S.Wf=40963;break}a.refDistance=c;a.Zf&&(a.Zf.refDistance=c);break;case 4129:if(!Number.isFinite(c)||0>c){S.Wf=40963;break}a.rolloffFactor=c;a.Zf&&(a.Zf.rolloffFactor=c);break;case 4130:if(!Number.isFinite(c)||0>c||1<c){S.Wf=40963;break}a.coneOuterGain=c;a.Zf&&(a.Zf.coneOuterGain=c);break;case 4131:if(!Number.isFinite(c)||0>c){S.Wf=40963;break}a.maxDistance=c;a.Zf&&
(a.Zf.maxDistance=c);break;case 4132:if(0>c||c>Yh(a)){S.Wf=40963;break}ei(a,c);break;case 4133:d=Yh(a);if(0<d){for(var f in a.Xf)if(f){e=a.Xf[f].frequency;break}c/=e}if(0>c||c>d){S.Wf=40963;break}ei(a,c);break;case 4134:d=Yh(a);if(0<d){for(f in a.Xf)if(f){e=a.Xf[f];var h=e.frequency*e.qg*e.channels;break}c/=h}if(0>c||c>d){S.Wf=40963;break}ei(a,c);break;case 4628:if(0!==c&&1!==c&&2!==c){S.Wf=40963;break}a.hh=c;bi(a);break;case 8201:case 8202:case 8203:S.Wf=40964;break;case 53248:switch(c){case 0:case 53249:case 53250:case 53251:case 53252:case 53253:case 53254:a.distanceModel=
c;S.Gh&&ci(S);break;default:S.Wf=40963}break;default:S.Wf=40962}else S.Wf=40961};
function dc(a,b,c,d,e){if(n)return P(4,1,a,b,c,d,e);if(S)if(a=Sh[a])if(0>=e)S.Wf=40963;else{var f=null;try{switch(b){case 4352:if(0<d){f=S.fg.createBuffer(1,d,e);for(var h=f.getChannelData(0),k=0;k<d;++k)h[k]=.0078125*y()[c++]-1}a.qg=1;a.channels=1;a.length=d;break;case 4353:if(0<d)for(f=S.fg.createBuffer(1,d>>1,e),h=f.getChannelData(0),c>>=1,k=0;k<d>>1;++k)h[k]=3.0517578125E-5*z()[c++];a.qg=2;a.channels=1;a.length=d>>1;break;case 4354:if(0<d){f=S.fg.createBuffer(2,d>>1,e);h=f.getChannelData(0);var l=
f.getChannelData(1);for(k=0;k<d>>1;++k)h[k]=.0078125*y()[c++]-1,l[k]=.0078125*y()[c++]-1}a.qg=1;a.channels=2;a.length=d>>1;break;case 4355:if(0<d)for(f=S.fg.createBuffer(2,d>>2,e),h=f.getChannelData(0),l=f.getChannelData(1),c>>=1,k=0;k<d>>2;++k)h[k]=3.0517578125E-5*z()[c++],l[k]=3.0517578125E-5*z()[c++];a.qg=2;a.channels=2;a.length=d>>2;break;case 65552:if(0<d)for(f=S.fg.createBuffer(1,d>>2,e),h=f.getChannelData(0),c>>=2,k=0;k<d>>2;++k)h[k]=Da()[c++];a.qg=4;a.channels=1;a.length=d>>2;break;case 65553:if(0<
d)for(f=S.fg.createBuffer(2,d>>3,e),h=f.getChannelData(0),l=f.getChannelData(1),c>>=2,k=0;k<d>>3;++k)h[k]=Da()[c++],l[k]=Da()[c++];a.qg=4;a.channels=2;a.length=d>>3;break;default:S.Wf=40963;return}a.frequency=e;a.Yf=f}catch(m){S.Wf=40963}}else S.Wf=40963}
function ec(a,b){if(n)return P(5,1,a,b);if(S){for(var c=0;c<a;++c){var d=A()[b+4*c>>2];if(0!==d){if(!Sh[d]){S.Wf=40961;return}if(Sh[d].Eg){S.Wf=40964;return}}}for(c=0;c<a;++c)d=A()[b+4*c>>2],0!==d&&(Qh[Sh[d].deviceId]--,delete Sh[d],Uh.push(d))}}function jc(a,b,c){if(n)return P(7,1,a,b,c);switch(b){case 514:case 4097:case 4098:case 4103:case 4105:case 4128:case 4129:case 4131:case 4132:case 4133:case 4134:case 4628:case 8201:case 8202:case 53248:fi(a,b,c);break;default:fi(a,b,null)}}
function fc(a,b){if(n)return P(6,1,a,b);if(S){for(var c=0;c<a;++c){var d=A()[b+4*c>>2];if(!S.sources[d]){S.Wf=40961;return}}for(c=0;c<a;++c)d=A()[b+4*c>>2],Xh(S.sources[d],4116),jc(d,4105,0),delete S.sources[d],Uh.push(d)}}function gc(a,b){if(n)return P(8,1,a,b);if(S)for(var c=0;c<a;++c){var d={deviceId:S.deviceId,id:0<Uh.length?Uh.pop():Th++,Eg:0,Yf:null,frequency:0,qg:2,channels:1,length:0};Qh[d.deviceId]++;Sh[d.id]=d;A()[b+4*c>>2]=d.id}}
function hc(a,b){if(n)return P(9,1,a,b);if(S)for(var c=0;c<a;++c){var d=S.fg.createGain();d.connect(S.gain);d={context:S,id:0<Uh.length?Uh.pop():Th++,type:4144,state:4113,Xf:[Sh[0]],$f:[],pg:!1,pitch:1,Dg:1,gain:d,Bh:0,Ah:1,Zf:null,ag:0,dg:Number.NEGATIVE_INFINITY,cg:0,gh:!1,refDistance:1,maxDistance:3.40282E38,rolloffFactor:1,position:[0,0,0],og:[0,0,0],direction:[0,0,0],coneOuterGain:0,coneInnerAngle:360,coneOuterAngle:360,distanceModel:53250,hh:2,get playbackRate(){return this.pitch*this.Dg}};
S.sources[d.id]=d;A()[b+4*c>>2]=d.id}}function ic(a){if(n)return P(10,1,a);S&&((a=S.sources[a])?Xh(a,4114):S.Wf=40961)}function kc(a){if(n)return P(11,1,a);if(!(a in Qh)||0<Qh[a])return 0;delete Qh[a];Uh.push(a);return 1}var gi=(a,b,c)=>{a.addEventListener(b,c,{once:!0})},hi=a=>{var b;b||=[document,document.getElementById("canvas")];["keydown","mousedown","touchstart"].forEach(c=>{b.forEach(d=>{d&&gi(d,c,()=>{"suspended"===a.state&&a.resume()})})})};
function lc(a,b){if(n)return P(12,1,a,b);if(!(a in Qh))return 0;var c=null,d=[],e=null;if(b>>=2)for(var f=0,h=0;;){f=A()[b++];d.push(f);if(0===f)break;h=A()[b++];d.push(h);switch(f){case 4103:c||={};c.sampleRate=h;break;case 4112:case 4113:break;case 6546:switch(h){case 0:e=!1;break;case 1:e=!0;break;case 2:break;default:return 0}break;case 6550:if(0!==h)return 0;break;default:return 0}}f=window.AudioContext||window.webkitAudioContext;b=null;try{b=c?new f(c):new f}catch(m){return 0}hi(b);"undefined"==
typeof b.createGain&&(b.createGain=b.createGainNode);c=b.createGain();c.connect(b.destination);var k={deviceId:a,id:0<Uh.length?Uh.pop():Th++,wi:d,fg:b,listener:{position:[0,0,0],og:[0,0,0],direction:[0,0,0],mh:[0,0,0]},sources:[],interval:setInterval(()=>{var m=k;if(1!==th||"visible"==document.visibilityState)for(var r in m.sources)Wh(m.sources[r])},Oh),gain:c,distanceModel:53250,speedOfSound:343.3,dopplerFactor:1,Gh:!1,yh:e||!1,Xg:0,get Wf(){return this.Xg},set Wf(m){if(0===this.Xg||0===m)this.Xg=
m}};Qh[a]++;Rh[k.id]=k;if(null!==e)for(var l in Rh)d=Rh[l],d.deviceId===a&&(d.yh=e,ci(d));return k.id}function mc(a){if(n)return P(13,1,a);var b=Rh[a];S!==b&&(Rh[a].interval&&clearInterval(Rh[a].interval),Qh[b.deviceId]--,delete Rh[a],Uh.push(a))}function nc(a){if(n)return P(14,1,a);0===a?S=null:S=Rh[a];return 1}function oc(a){return n?P(15,1,a):a&&D(a)!==Ph?0:"undefined"!=typeof AudioContext||"undefined"!=typeof webkitAudioContext?(a=0<Uh.length?Uh.pop():Th++,Qh[a]=0,a):0}
var wc=()=>Date.now(),ii=1;function pc(a,b,c){if(!(0<=a&&3>=a))return 28;if(0===a)a=Date.now();else if(ii)a=performance.timeOrigin+performance.now();else return 52;va[c>>3]=BigInt(Math.round(1E6*a));return 0}
var ji=[],sc=(a,b,c)=>{ji.length=0;for(var d;d=y()[b++];){var e=105!=d;e&=112!=d;c+=e&&c%8?4:0;ji.push(112==d?B()[c>>2]:106==d?va[c>>3]:105==d?A()[c>>2]:Ea()[c>>3]);c+=e?8:4}return Ef[a](...ji)},ki=(a,b)=>{N+=1;setTimeout(()=>{--N;ah(a)},b)},li=a=>{N+=1;Ah(()=>{--N;ah(a)})},tc=(a,b,c)=>{var d=()=>Q(a)(b);0<=c?ki(d,c):li(d)},uc=()=>{Lh();vh=null},vc=()=>{},xc=a=>p(D(a)),yc=(a,b)=>p(D(a,b)),zc=()=>{N+=1;throw"unwind";};
function Ac(a){if(mi.has(a)){var b=mi.get(a),c=mi;c.eg[a]=void 0;c.ph.push(a);0<b.readyState&&4>b.readyState&&b.abort()}}function Bc(a){if(n)return P(16,1,a);N=0;ld(a)}var Wf=[];function ni(a){var b=U.jg[a];b.target.removeEventListener(b.sg,b.vh,b.Hg);U.jg.splice(a,1)}function oi(){if(navigator.userActivation?navigator.userActivation.isActive:U.$g&&U.Th.Yg){var a=U.rg;U.rg=[];for(var b of a)b.jh(...b.sh)}}
function pi(a){if(!a.target)return-4;if(a.Ng)a.vh=function(c){++U.$g;U.Th=a;oi();a.Qg(c);oi();--U.$g},a.target.addEventListener(a.sg,a.vh,a.Hg),U.jg.push(a),U.ji||(Wf.unshift(U.hi),U.ji=!0);else for(var b=0;b<U.jg.length;++b)U.jg[b].target==a.target&&U.jg[b].sg==a.sg&&ni(b--);return 0}function qi(a){switch(a){case 1:return 0;case 2:return bg;default:return a}}
var U={xi:0,Ki:0,ah:0,Ug:0,nh:0,Zi:0,Hi:0,Di:0,Ri:0,Ci:0,Ii:0,Ui:0,$i:0,kh:0,Oi(a,b,c){v().set(v().subarray(b,b+c),a)},hi(){for(;U.jg.length;)ni(U.jg.length-1);U.rg=[]},$g:0,rg:[],Bi(a,b,c){function d(f,h){if(f.length!=h.length)return!1;for(var k in f)if(f[k]!=h[k])return!1;return!0}for(var e of U.rg)if(e.jh==a&&d(e.sh,c))return;U.rg.push({jh:a,Fh:b,sh:c});U.rg.sort((f,h)=>f.Fh<h.Fh)},Wi(a){U.rg=U.rg.filter(b=>b.jh!=a)},jg:[],ii:(a,b)=>{for(var c=0;c<U.jg.length;++c)U.jg[c].target!=a||b&&b!=U.jg[c].sg||
ni(c--)},Mi(a){return a?a==window?"#window":a==screen?"#screen":a?.nodeName||"":""},fullscreenEnabled(){return document.fullscreenEnabled||document.webkitFullscreenEnabled}},W,ri=a=>{var b="EXT_color_buffer_float EXT_conservative_depth EXT_disjoint_timer_query_webgl2 EXT_texture_norm16 NV_shader_noperspective_interpolation WEBGL_clip_cull_distance EXT_clip_control EXT_color_buffer_half_float EXT_depth_clamp EXT_float_blend EXT_polygon_offset_clamp EXT_texture_compression_bptc EXT_texture_compression_rgtc EXT_texture_filter_anisotropic KHR_parallel_shader_compile OES_texture_float_linear WEBGL_blend_func_extended WEBGL_compressed_texture_astc WEBGL_compressed_texture_etc WEBGL_compressed_texture_etc1 WEBGL_compressed_texture_s3tc WEBGL_compressed_texture_s3tc_srgb WEBGL_debug_renderer_info WEBGL_debug_shaders WEBGL_lose_context WEBGL_multi_draw WEBGL_polygon_mode".split(" ");
return(a.getSupportedExtensions()||[]).filter(c=>b.includes(c))},si=1,ti=[],ui=[],vi=[],wi=[],xi=[],yi=[],zi=[],Ai={},ag={},Bi=[1,1,2,2,4,4,4,2,3,4,8],Ci=4,Di=0,Ei=a=>{for(var b=si++,c=a.length;c<b;c++)a[c]=null;for(;a[b];)b=si++;return b},Fi=(a,b,c,d)=>{for(var e=0;e<a;e++){var f=W[c](),h=f&&Ei(d);f?(f.name=h,d[h]=f):X||=1282;A()[b+4*e>>2]=h}},Gi=a=>{a=32-Math.clz32(0===a?0:a-1);var b=Y.vg[a];if(b)return b;b=W.getParameter(34965);Y.vg[a]=W.createBuffer();W.bindBuffer(34963,Y.vg[a]);W.bufferData(34963,
1<<a,35048);W.bindBuffer(34963,b);return Y.vg[a]},Ii=a=>{Hi=!1;for(var b=0;b<Y.dh;++b){var c=Y.yg[b];if(c.Og&&c.enabled){Hi=!0;var d=c.ih;d=0<d?a*d:c.size*Bi[c.type-5120]*a;var e=32-Math.clz32(0===d?0:d-1);var f=Y.wg[e],h=Y.tg[e];Y.tg[e]=Y.tg[e]+1&63;var k=f[h];k?e=k:(k=W.getParameter(34964),f[h]=W.createBuffer(),W.bindBuffer(34962,f[h]),W.bufferData(34962,1<<e,35048),W.bindBuffer(34962,k),e=f[h]);W.bindBuffer(34962,e);W.bufferSubData(34962,0,y().subarray(c.fh,c.fh+d));c.Mh.call(W,b,c.size,c.type,
c.Ch,c.ih,0)}}},Ji=a=>{a||=Y;if(!a.ci){a.ci=!0;var b=a.hg;b.Qi=b.getExtension("WEBGL_multi_draw");b.Gi=b.getExtension("EXT_polygon_offset_clamp");b.Fi=b.getExtension("EXT_clip_control");b.aj=b.getExtension("WEBGL_polygon_mode");b.Ei=b.getExtension("WEBGL_draw_instanced_base_vertex_base_instance");b.Ni=b.getExtension("WEBGL_multi_draw_instanced_base_vertex_base_instance");2<=a.version&&(b.th=b.getExtension("EXT_disjoint_timer_query_webgl2"));if(2>a.version||!b.th)b.th=b.getExtension("EXT_disjoint_timer_query");
ri(b).forEach(c=>{c.includes("lose_context")||c.includes("debug")||b.getExtension(c)})}},$f={},X,Y,Hi,Ki=a=>{a=2<a?D(a):a;return ag[a.slice(1)]||"canvas"==a&&Object.keys(ag)[0]||"undefined"!=typeof document&&document.querySelector(a)},Li=(a,b,c)=>{var d=Ki(a);if(!d)return-4;if(d.bg)a=A()[d.bg>>2],d=A()[d.bg+4>>2],A()[b>>2]=a,A()[c>>2]=d;else if(d.mg)A()[b>>2]=d.mg.width,A()[c>>2]=d.mg.height;else{if(d.zg)return-4;A()[b>>2]=d.width;A()[c>>2]=d.height}return 0};
function Mi(a,b,c){return n?P(17,1,a,b,c):Li(a,b,c)}var Cc=(a,b,c)=>Ki(a)?Li(a,b,c):Mi(a,b,c);function Dc(){return n?P(18,1):devicePixelRatio}var Ni=[0,"undefined"!=typeof document?document:0,"undefined"!=typeof window?window:0],Oi=a=>{a=2<a?D(a):a;return Ni[a]||("undefined"!=typeof document?document.querySelector(a):null)},Pi=a=>0>Ni.indexOf(a)?a.getBoundingClientRect():{left:0,top:0};
function Ec(a,b,c){if(n)return P(19,1,a,b,c);a=Oi(a);if(!a)return-4;a=Pi(a);Ea()[b>>3]=a.width;Ea()[c>>3]=a.height;return 0}var Fc=()=>/iPad|iPhone|iPod/.test(navigator.userAgent)?536870912:2147483648;function Qi(){if("undefined"!=typeof indexedDB)return indexedDB;var a=null;"object"==typeof window&&(a=window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB);assert(a,"IDBStore used, but indexedDB not supported");return a}var Ri={};
function Si(a,b){var c=Ri[a];if(c)b(null,c);else{try{var d=Qi().open(a,22)}catch(e){b(e);return}d.onupgradeneeded=e=>{var f=e.target.result;e=e.target.transaction;f.objectStoreNames.contains("FILE_DATA")?e.objectStore("FILE_DATA"):f.createObjectStore("FILE_DATA")};d.onsuccess=()=>{c=d.result;Ri[a]=c;b(null,c)};d.onerror=function(e){b(e.target.error||"unknown error");e.preventDefault()}}}
function Ti(a,b,c){Si(a,(d,e)=>{if(d)return c(d);d=e.transaction(["FILE_DATA"],b);d.onerror=f=>{c(f.target.error||"unknown error");f.preventDefault()};d=d.objectStore("FILE_DATA");c(null,d)})}function Ui(a,b,c){Ti(a,"readonly",(d,e)=>{if(d)return c(d);d=e.get(b);d.onsuccess=f=>(f=f.target.result)?c(null,f):c(`file ${b} not found`);d.onerror=c})}function Vi(a,b,c,d){Ti(a,"readwrite",(e,f)=>{if(e)return d(e);e=f.put(c,b);e.onsuccess=()=>d();e.onerror=d})}
function Wi(a,b,c){Ti(a,"readwrite",(d,e)=>{if(d)return c(d);d=e.delete(b);d.onsuccess=()=>c();d.onerror=c})}function Xi(a,b,c){Ti(a,"readonly",(d,e)=>{if(d)return c(d);d=e.count(b);d.onsuccess=f=>c(null,0<f.target.result);d.onerror=c})}
var Hc=(a,b,c,d,e)=>{N+=1;Wi(D(a),D(b),f=>{--N;ah(()=>{f?e&&Q(e)(c):d&&Q(d)(c)})})},Ic=(a,b,c,d,e)=>{N+=1;Xi(D(a),D(b),(f,h)=>{--N;ah(()=>{f?e&&Q(e)(c):d&&Q(d)(c,h)})})},Jc=(a,b,c,d,e)=>{N+=1;Ui(D(a),D(b),(f,h)=>{--N;ah(()=>{if(f)e&&Q(e)(c);else{var k=H(h.length);y().set(h,k);Q(d)(c,k,h.length);G(k)}})})},Kc=(a,b,c,d,e,f,h)=>{N+=1;Vi(D(a),D(b),new Uint8Array(y().subarray(c,c+d)),k=>{--N;ah(()=>{k?h&&Q(h)(e):f&&Q(f)(e)})})},Lc=()=>navigator.hardwareConcurrency,Mc=a=>ka(D(a)),Nc=(a,b)=>{function c(d){Q(a)(d,
b)&&requestAnimationFrame(c)}return requestAnimationFrame(c)},Oc=a=>{var b=y().length;a>>>=0;if(a<=b)return!1;var c=/iPad|iPhone|iPod/.test(navigator.userAgent)?536870912:2147483648;if(a>c)return!1;for(var d=1;4>=d;d*=2){var e=b*(1+.2/d);e=Math.min(e,a+100663296);a:{e=(Math.min(c,65536*Math.ceil(Math.max(a,e)/65536))-q.buffer.byteLength+65535)/65536|0;try{q.grow(e);Aa();var f=1;break a}catch(h){}f=void 0}if(f)return!0}return!1},Zi=(a,b,c)=>{var d=Ki(a);if(!d)return-4;d.bg&&(A()[d.bg>>2]=b,A()[d.bg+
4>>2]=c);if(d.mg||!d.zg)d.mg&&(d=d.mg),a=!1,d.Ig?.hg&&(a=d.Ig.hg.getParameter(2978),a=a instanceof Int32Array&&4===a.length?0===a[0]&&0===a[1]&&a[2]===d.width&&a[3]===d.height:!0),d.width=b,d.height=c,a&&d.Ig.hg.viewport(0,0,b,c);else{if(d.bg){d=B()[d.bg+8>>2];a=a?D(a):"";var e=0;if(a){e=Ff(a)+1;var f=H(e);f&&M(a,f,e);e=f}Yi(d,e,b,c);return 1}return-4}return 0};function $i(a,b,c){return n?P(20,1,a,b,c):Zi(a,b,c)}
var Pc=(a,b,c)=>Ki(a)?Zi(a,b,c):$i(a,b,c),bj=(a,b,c,d,e,f,h)=>{h=qi(h);U.ah||(U.ah=H(160));a={target:Oi(a),sg:f,Ng:d,Qg:k=>{var l=h?H(160):U.ah;Ea()[l>>3]=k.timeStamp;var m=l>>2;A()[m+2]=k.location;v()[l+12]=k.ctrlKey;v()[l+13]=k.shiftKey;v()[l+14]=k.altKey;v()[l+15]=k.metaKey;v()[l+16]=k.repeat;A()[m+5]=k.charCode;A()[m+6]=k.keyCode;A()[m+7]=k.which;M(k.key||"",l+32,32);M(k.code||"",l+64,32);M(k.char||"",l+96,32);M(k.locale||"",l+128,32);h?aj(h,d,e,l,b):Q(d)(e,l,b)&&k.preventDefault()},Hg:c};return pi(a)};
function Qc(a,b,c,d,e){return n?P(21,1,a,b,c,d,e):bj(a,b,c,d,2,"keydown",e)}function Rc(a,b,c,d,e){return n?P(22,1,a,b,c,d,e):bj(a,b,c,d,3,"keyup",e)}
var Sc=(a,b,c)=>{a=Q(a);Kh(a,b,c)},Tc=(a,b,c,d)=>{Kh(()=>Q(a)(b),c,d,b)},cj=(a,b,c)=>{Ea()[a>>3]=b.timeStamp;var d=a>>2;A()[d+2]=b.screenX;A()[d+3]=b.screenY;A()[d+4]=b.clientX;A()[d+5]=b.clientY;v()[a+24]=b.ctrlKey;v()[a+25]=b.shiftKey;v()[a+26]=b.altKey;v()[a+27]=b.metaKey;z()[2*d+14]=b.button;z()[2*d+15]=b.buttons;A()[d+8]=b.movementX;A()[d+9]=b.movementY;a=Pi(c);A()[d+10]=b.clientX-(a.left|0);A()[d+11]=b.clientY-(a.top|0)},dj=(a,b,c,d,e,f,h)=>{h=qi(h);U.Ug||(U.Ug=H(64));a=Oi(a);return pi({target:a,
Yg:"mousemove"!=f&&"mouseenter"!=f&&"mouseleave"!=f,sg:f,Ng:d,Qg:(k=event)=>{cj(U.Ug,k,a);if(h){var l=H(64);cj(l,k,a);aj(h,d,e,l,b)}else Q(d)(e,U.Ug,b)&&k.preventDefault()},Hg:c})};function Uc(a,b,c,d,e){return n?P(23,1,a,b,c,d,e):dj(a,b,c,d,5,"mousedown",e)}function Vc(a,b,c,d,e){return n?P(24,1,a,b,c,d,e):dj(a,b,c,d,8,"mousemove",e)}function Wc(a,b,c,d,e){return n?P(25,1,a,b,c,d,e):dj(a,b,c,d,6,"mouseup",e)}
var ej=(a,b,c,d,e,f,h)=>{h=qi(h);U.kh||(U.kh=H(1552));a=Oi(a);return pi({target:a,Yg:"touchstart"==f||"touchend"==f,sg:f,Ng:d,Qg:k=>{var l={},m=k.touches;for(var r of m)r.zh=r.Dh=0,l[r.identifier]=r;for(var u of k.changedTouches)u.zh=1,l[u.identifier]=u;for(var t of k.targetTouches)l[t.identifier].Dh=1;m=h?H(1552):U.kh;Ea()[m>>3]=k.timeStamp;v()[m+12]=k.ctrlKey;v()[m+13]=k.shiftKey;v()[m+14]=k.altKey;v()[m+15]=k.metaKey;r=m+16;u=Pi(a);t=0;for(let x of Object.values(l))if(l=r>>2,A()[l]=x.identifier,
A()[l+1]=x.screenX,A()[l+2]=x.screenY,A()[l+3]=x.clientX,A()[l+4]=x.clientY,A()[l+5]=x.pageX,A()[l+6]=x.pageY,v()[r+28]=x.zh,v()[r+29]=x.Dh,A()[l+8]=x.clientX-(u.left|0),A()[l+9]=x.clientY-(u.top|0),r+=48,31<++t)break;A()[m+8>>2]=t;h?aj(h,d,e,m,b):Q(d)(e,m,b)&&k.preventDefault()},Hg:c})};function Xc(a,b,c,d,e){return n?P(26,1,a,b,c,d,e):ej(a,b,c,d,23,"touchend",e)}function Yc(a,b,c,d,e){return n?P(27,1,a,b,c,d,e):ej(a,b,c,d,24,"touchmove",e)}
function Zc(a,b,c,d,e){return n?P(28,1,a,b,c,d,e):ej(a,b,c,d,22,"touchstart",e)}var fj=(a,b,c,d,e)=>{e=qi(e);U.nh||(U.nh=H(96));return pi({target:a,Yg:!0,sg:"wheel",Ng:d,Qg:(f=event)=>{var h=e?H(96):U.nh;cj(h,f,a);Ea()[h+64>>3]=f.deltaX;Ea()[h+72>>3]=f.deltaY;Ea()[h+80>>3]=f.deltaZ;A()[h+88>>2]=f.deltaMode;e?aj(e,d,9,h,b):Q(d)(9,h,b)&&f.preventDefault()},Hg:c})};function $c(a,b,c,d,e){return n?P(29,1,a,b,c,d,e):(a=Oi(a))?"undefined"!=typeof a.onwheel?fj(a,b,c,d,e):-1:-4}
function gj(a){var b=mi,c=b.ph.pop()||b.eg.length;b.eg[c]=a;return c}class hj{eg=[void 0];ph=[];get(a){return this.eg[a]}has(a){return void 0!==this.eg[a]}}function ij(a,b){try{var c=indexedDB.open("emscripten_filesystem",1)}catch(d){b(d);return}c.onupgradeneeded=d=>{d=d.target.result;d.objectStoreNames.contains("FILES")&&d.deleteObjectStore("FILES");d.createObjectStore("FILES")};c.onsuccess=d=>a(d.target.result);c.onerror=b}var mi,jj;
function kj(a,b,c,d,e){function f(){var L=0,V=0;w.response&&J&&0===B()[a+12>>2]&&(V=w.response.byteLength);0<V&&(L=H(V),y().set(new Uint8Array(w.response),L));B()[a+12>>2]=L;lj(a+16,V);lj(a+24,0);(L=w.response?w.response.byteLength:0)&&lj(a+32,L);z()[a+40>>1]=w.readyState;z()[a+42>>1]=w.status;w.statusText&&M(w.statusText,a+44,64)}var h=B()[a+8>>2];if(h){var k=D(h),l=a+108,m=D(l+0);m||="GET";var r=B()[l+56>>2],u=B()[l+68>>2],t=B()[l+72>>2];h=B()[l+76>>2];var x=B()[l+80>>2],E=B()[l+84>>2],I=B()[l+
88>>2],F=B()[l+52>>2],J=!!(F&1),O=!!(F&2);F=!!(F&64);u=u?D(u):void 0;t=t?D(t):void 0;var w=new XMLHttpRequest;w.withCredentials=!!y()[l+60];w.open(m,k,!F,u,t);F||(w.timeout=r);w.eg=k;w.responseType="arraybuffer";x&&(k=D(x),w.overrideMimeType(k));if(h)for(;;){l=B()[h>>2];if(!l)break;k=B()[h+4>>2];if(!k)break;h+=8;l=D(l);k=D(k);w.setRequestHeader(l,k)}var T=gj(w);B()[a>>2]=T;h=E&&I?y().slice(E,E+I):null;w.onload=L=>{mi.has(T)&&(f(),200<=w.status&&300>w.status?b?.(a,w,L):c?.(a,w,L))};w.onerror=L=>{mi.has(T)&&
(f(),c?.(a,w,L))};w.ontimeout=L=>{mi.has(T)&&c?.(a,w,L)};w.onprogress=L=>{if(mi.has(T)){var V=J&&O&&w.response?w.response.byteLength:0,K=0;0<V&&J&&O&&(K=H(V),y().set(new Uint8Array(w.response),K));B()[a+12>>2]=K;lj(a+16,V);lj(a+24,L.loaded-V);lj(a+32,L.total);z()[a+40>>1]=w.readyState;3<=w.readyState&&0===w.status&&0<L.loaded&&(w.status=200);z()[a+42>>1]=w.status;w.statusText&&M(w.statusText,a+44,64);d?.(a,w,L);K&&G(K)}};w.onreadystatechange=L=>{mi.has(T)?(z()[a+40>>1]=w.readyState,2<=w.readyState&&
(z()[a+42>>1]=w.status),e?.(a,w,L)):--N};try{w.send(h)}catch(L){c?.(a,w,L)}}else c(a,0,"no url specified!")}var lj=(a,b)=>{B()[a>>2]=b;var c=B()[a>>2];B()[a+4>>2]=(b-c)/4294967296};
function mj(a,b,c,d){var e=jj;if(e){var f=a+108;(f=B()[f+64>>2])||(f=B()[a+8>>2]);var h=D(f);try{var k=e.transaction(["FILES"],"readwrite").objectStore("FILES").put(b,h);k.onsuccess=()=>{z()[a+40>>1]=4;z()[a+42>>1]=200;M("OK",a+44,64);c(a,0,h)};k.onerror=l=>{z()[a+40>>1]=4;z()[a+42>>1]=413;M("Payload Too Large",a+44,64);d(a,0,l)}}catch(l){d(a,0,l)}}else d(a,0,"IndexedDB not available!")}
function nj(a,b,c){var d=jj;if(d){var e=a+108;(e=B()[e+64>>2])||(e=B()[a+8>>2]);e=D(e);try{var f=d.transaction(["FILES"],"readonly").objectStore("FILES").get(e);f.onsuccess=h=>{if(h.target.result){h=h.target.result;var k=h.byteLength||h.length,l=H(k);y().set(new Uint8Array(h),l);B()[a+12>>2]=l;lj(a+16,k);lj(a+24,0);lj(a+32,k);z()[a+40>>1]=4;z()[a+42>>1]=200;M("OK",a+44,64);b(a,0,h)}else z()[a+40>>1]=4,z()[a+42>>1]=404,M("Not Found",a+44,64),c(a,0,"no data")};f.onerror=h=>{z()[a+40>>1]=4;z()[a+42>>
1]=404;M("Not Found",a+44,64);c(a,0,h)}}catch(h){c(a,0,h)}}else c(a,0,"IndexedDB not available!")}
function oj(a,b,c){var d=jj;if(d){var e=a+108;(e=B()[e+64>>2])||(e=B()[a+8>>2]);e=D(e);try{var f=d.transaction(["FILES"],"readwrite").objectStore("FILES").delete(e);f.onsuccess=h=>{h=h.target.result;B()[a+12>>2]=0;lj(a+16,0);lj(a+24,0);lj(a+32,0);z()[a+40>>1]=4;z()[a+42>>1]=200;M("OK",a+44,64);b(a,0,h)};f.onerror=h=>{z()[a+40>>1]=4;z()[a+42>>1]=404;M("Not Found",a+44,64);c(a,0,h)}}catch(h){c(a,0,h)}}else c(a,0,"IndexedDB not available!")}
function ad(a,b,c,d,e){function f(K){t?K():ah(K)}N+=1;var h=a+108,k=B()[h+36>>2],l=B()[h+40>>2],m=B()[h+44>>2],r=B()[h+48>>2],u=B()[h+52>>2],t=!!(u&64),x=K=>{--N;f(()=>{k?Q(k)(K):b?.(K)})},E=K=>{f(()=>{m?Q(m)(K):d?.(K)})},I=K=>{--N;f(()=>{l?Q(l)(K):c?.(K)})},F=K=>{f(()=>{r?Q(r)(K):e?.(K)})},J=K=>{kj(K,x,I,E,F)},O=(K,Ga)=>{mj(K,Ga.response,Ba=>{--N;f(()=>{k?Q(k)(Ba):b?.(Ba)})},Ba=>{--N;f(()=>{k?Q(k)(Ba):b?.(Ba)})})},w=K=>{kj(K,O,I,E,F)},T=D(h+0),L=!!(u&16),V=!!(u&4);u=!!(u&32);if("EM_IDB_STORE"===
T)J=B()[h+84>>2],h=B()[h+88>>2],mj(a,y().slice(J,J+h),x,I);else if("EM_IDB_DELETE"===T)oj(a,x,I);else if(L){if(u)return 0;kj(a,V?O:x,I,E,F)}else nj(a,x,u?I:V?w:J);return a}
var bd=()=>{throw"unwind";},pj=["default","low-power","high-performance"],cd=(a,b)=>{var c=b>>2,d=A()[c+2];c={alpha:!!v()[b+0],depth:!!v()[b+1],stencil:!!v()[b+2],antialias:!!v()[b+3],premultipliedAlpha:!!v()[b+4],preserveDrawingBuffer:!!v()[b+5],powerPreference:pj[d],failIfMajorPerformanceCaveat:!!v()[b+12],ei:A()[c+4],Pi:A()[c+5],uh:v()[b+24],wh:v()[b+25],Vi:A()[c+7],Xi:v()[b+32]};a=Ki(a);a?.canvas&&(a=a.canvas);if(!a)return 0;a.mg&&(a=a.mg);if(c.wh){if(!(a.transferControlToOffscreen||"undefined"!=
typeof OffscreenCanvas&&a instanceof OffscreenCanvas))return 0;if(a.transferControlToOffscreen){if(!a.zg)ag[a.id]={canvas:a.transferControlToOffscreen(),bg:H(12),id:a.id},a.zg=!0;else if(!ag[a.id])return 0;a=ag[a.id].canvas}}if(d=a.getContext("webgl2",c)){a=H(8);B()[a+4>>2]=Ia();b={handle:a,attributes:c,version:c.ei,hg:d};d.canvas&&(d.canvas.Ig=b);Ai[a]=b;("undefined"==typeof c.uh||c.uh)&&Ji(b);b.dh=b.hg.getParameter(34921);b.yg=[];for(c=0;c<b.dh;c++)b.yg[c]={enabled:!1,Og:!1,size:0,type:0,Ch:0,ih:0,
fh:0,Mh:null};b.tg=[];b.Wg=[];b.tg.length=b.Wg.length=22;b.wg=[];b.Fg=[];b.wg.length=b.Fg.length=22;b.vg=[];b.vg.length=22;for(c=0;21>=c;++c){b.vg[c]=null;b.tg[c]=b.Wg[c]=0;b.wg[c]=[];b.Fg[c]=[];d=b.wg[c];var e=b.Fg[c];d.length=e.length=64;for(var f=0;64>f;++f)d[f]=e[f]=null}}else a=0;return a};function dd(a){Y==a&&(Y=0);Y===Ai[a]&&(Y=null);"object"==typeof U&&U.ii(Ai[a].hg.canvas);Ai[a]?.hg.canvas&&(Ai[a].hg.canvas.Ig=void 0);G(Ai[a].handle);Ai[a]=null}
var ed=a=>{Y=Ai[a];g.ctx=W=Y?.hg;return!a||W?0:-5},qj={},sj=()=>{if(!rj){var a={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:"./this.program"},b;for(b in qj)void 0===qj[b]?delete a[b]:a[b]=qj[b];var c=[];for(b in a)c.push(`${b}=${a[b]}`);rj=c}return rj},rj;
function jd(a,b){if(n)return P(30,1,a,b);var c=0;sj().forEach((d,e)=>{var f=b+c;e=B()[a+4*e>>2]=f;for(f=0;f<d.length;++f)v()[e++]=d.charCodeAt(f);v()[e]=0;c+=d.length+1});return 0}function kd(a,b){if(n)return P(31,1,a,b);var c=sj();B()[a>>2]=c.length;var d=0;c.forEach(e=>d+=e.length+1);B()[b>>2]=d;return 0}
var od=a=>W.activeTexture(a),pd=(a,b)=>{W.attachShader(ui[a],yi[b])},qd=(a,b)=>{if(b&&!ti[b]){var c=W.createBuffer();c.name=b;ti[b]=c}34962==a?W.Ag=b:34963==a&&(W.Bg=b);35051==a?W.Zg=b:35052==a&&(W.Pg=b);W.bindBuffer(a,ti[b])},rd=(a,b)=>{W.bindFramebuffer(a,vi[b])},sd=(a,b)=>{W.bindRenderbuffer(a,wi[b])},td=(a,b)=>{W.bindTexture(a,xi[b])},ud=a=>{W.bindVertexArray(zi[a]);a=W.getParameter(34965);W.Bg=a?a.name|0:0},vd=(a,b)=>W.blendFunc(a,b),wd=(a,b,c,d)=>W.blendFuncSeparate(a,b,c,d),xd=(a,b,c,d,e,f,
h,k,l,m)=>W.blitFramebuffer(a,b,c,d,e,f,h,k,l,m),yd=(a,b,c,d)=>{c&&b?W.bufferData(a,y(),d,c,b):W.bufferData(a,b,d)},zd=(a,b,c,d)=>{c&&W.bufferSubData(a,b,y(),d,c)},Ad=a=>W.checkFramebufferStatus(a),Bd=a=>W.clear(a),Cd=(a,b,c,d)=>W.clearColor(a,b,c,d),Dd=a=>W.clearDepth(a),Ed=(a,b,c,d)=>{W.colorMask(!!a,!!b,!!c,!!d)},Fd=a=>{W.compileShader(yi[a])},Gd=()=>{var a=Ei(ui),b=W.createProgram();b.name=a;b.Tg=b.Rg=b.Sg=0;b.lh=1;ui[a]=b;return a},Hd=a=>{var b=Ei(yi);yi[b]=W.createShader(a);return b},Id=a=>
W.cullFace(a),Jd=(a,b)=>{for(var c=0;c<a;c++){var d=A()[b+4*c>>2],e=ti[d];e&&(W.deleteBuffer(e),e.name=0,ti[d]=null,d==W.Ag&&(W.Ag=0),d==W.Bg&&(W.Bg=0),d==W.Zg&&(W.Zg=0),d==W.Pg&&(W.Pg=0))}},Kd=(a,b)=>{for(var c=0;c<a;++c){var d=A()[b+4*c>>2],e=vi[d];e&&(W.deleteFramebuffer(e),e.name=0,vi[d]=null)}},Ld=a=>{if(a){var b=ui[a];b?(W.deleteProgram(b),b.name=0,ui[a]=null):X||=1281}},Md=(a,b)=>{for(var c=0;c<a;c++){var d=A()[b+4*c>>2],e=wi[d];e&&(W.deleteRenderbuffer(e),e.name=0,wi[d]=null)}},Nd=a=>{if(a){var b=
yi[a];b?(W.deleteShader(b),yi[a]=null):X||=1281}},Od=(a,b)=>{for(var c=0;c<a;c++){var d=A()[b+4*c>>2],e=xi[d];e&&(W.deleteTexture(e),e.name=0,xi[d]=null)}},Pd=(a,b)=>{for(var c=0;c<a;c++){var d=A()[b+4*c>>2];W.deleteVertexArray(zi[d]);zi[d]=null}},Qd=a=>W.depthFunc(a),Rd=a=>{W.depthMask(!!a)},Sd=(a,b)=>{W.detachShader(ui[a],yi[b])},Td=a=>W.disable(a),Ud=(a,b,c)=>{Ii(b+c);W.drawArrays(a,b,c);Hi&&W.bindBuffer(34962,ti[W.Ag])},tj=[],Vd=(a,b)=>{for(var c=tj[a],d=0;d<a;d++)c[d]=A()[b+4*d>>2];W.drawBuffers(c)},
Wd=(a,b,c,d)=>{var e=0;if(!W.Bg){var f=1*Bi[c-5120]*b;var h=Gi(f);W.bindBuffer(34963,h);W.bufferSubData(34963,0,y().subarray(d,d+f));if(0<b)for(h=0;h<Y.dh;++h)if(f=Y.yg[h],f.Og&&f.enabled){switch(c){case 5121:e=Uint8Array;break;case 5123:e=Uint16Array;break;case 5125:e=Uint32Array;break;default:X||=1282;return}e=(new e(y().buffer,d,b)).reduce((k,l)=>Math.max(k,l))+1;break}d=0}Ii(e);W.drawElements(a,b,c,d);Hi&&W.bindBuffer(34962,ti[W.Ag]);W.Bg||W.bindBuffer(34963,null)},Xd=a=>W.enable(a),Yd=a=>{Y.yg[a].enabled=
!0;W.enableVertexAttribArray(a)},Zd=(a,b,c,d)=>{W.framebufferRenderbuffer(a,b,c,wi[d])},$d=(a,b,c,d,e)=>{W.framebufferTexture2D(a,b,c,xi[d],e)},ae=a=>W.frontFace(a),be=(a,b)=>{Fi(a,b,"createBuffer",ti)},ce=(a,b)=>{Fi(a,b,"createFramebuffer",vi)},de=(a,b)=>{Fi(a,b,"createRenderbuffer",wi)},ee=(a,b)=>{Fi(a,b,"createTexture",xi)},fe=(a,b)=>{Fi(a,b,"createVertexArray",zi)},ge=a=>W.generateMipmap(a),he=(a,b,c,d)=>{a=W.getAttachedShaders(ui[a]);var e=a.length;e>b&&(e=b);A()[c>>2]=e;for(b=0;b<e;++b)c=yi.indexOf(a[b]),
A()[d+4*b>>2]=c},ie=(a,b)=>W.getAttribLocation(ui[a],D(b)),uj=()=>{var a=ri(W);return a=a.concat(a.map(b=>"GL_"+b))},vj=(a,b,c)=>{if(b){var d=void 0;switch(a){case 36346:d=1;break;case 36344:0!=c&&1!=c&&(X||=1280);return;case 34814:case 36345:d=0;break;case 34466:var e=W.getParameter(34467);d=e?e.length:0;break;case 33309:if(2>Y.version){X||=1282;return}d=uj().length;break;case 33307:case 33308:if(2>Y.version){X||=1280;return}d=33307==a?3:0}if(void 0===d)switch(e=W.getParameter(a),typeof e){case "number":d=
e;break;case "boolean":d=e?1:0;break;case "string":X||=1280;return;case "object":if(null===e)switch(a){case 34964:case 35725:case 34965:case 36006:case 36007:case 32873:case 34229:case 36662:case 36663:case 35053:case 35055:case 36010:case 35097:case 35869:case 32874:case 36389:case 35983:case 35368:case 34068:d=0;break;default:X||=1280;return}else{if(e instanceof Float32Array||e instanceof Uint32Array||e instanceof Int32Array||e instanceof Array){for(a=0;a<e.length;++a)switch(c){case 0:A()[b+4*a>>
2]=e[a];break;case 2:Da()[b+4*a>>2]=e[a];break;case 4:v()[b+a]=e[a]?1:0}return}try{d=e.name|0}catch(f){X||=1280;p(`GL_INVALID_ENUM in glGet${c}v: Unknown object returned from WebGL getParameter(${a})! (error: ${f})`);return}}break;default:X||=1280;p(`GL_INVALID_ENUM in glGet${c}v: Native code calling glGet${c}v(${a}) and it returns ${e} of type ${typeof e}!`);return}switch(c){case 1:lj(b,d);break;case 0:A()[b>>2]=d;break;case 2:Da()[b>>2]=d;break;case 4:v()[b]=d?1:0}}else X||=1281},je=(a,b)=>vj(a,
b,4),ke=()=>{var a=W.getError()||X;X=0;return a},le=(a,b)=>vj(a,b,0),me=(a,b,c,d)=>{a=W.getProgramInfoLog(ui[a]);null===a&&(a="(unknown error)");b=0<b&&d?M(a,d,b):0;c&&(A()[c>>2]=b)},ne=(a,b,c)=>{if(c)if(a>=si)X||=1281;else if(a=ui[a],35716==b)a=W.getProgramInfoLog(a),null===a&&(a="(unknown error)"),A()[c>>2]=a.length+1;else if(35719==b){if(!a.Tg){var d=W.getProgramParameter(a,35718);for(b=0;b<d;++b)a.Tg=Math.max(a.Tg,W.getActiveUniform(a,b).name.length+1)}A()[c>>2]=a.Tg}else if(35722==b){if(!a.Rg)for(d=
W.getProgramParameter(a,35721),b=0;b<d;++b)a.Rg=Math.max(a.Rg,W.getActiveAttrib(a,b).name.length+1);A()[c>>2]=a.Rg}else if(35381==b){if(!a.Sg)for(d=W.getProgramParameter(a,35382),b=0;b<d;++b)a.Sg=Math.max(a.Sg,W.getActiveUniformBlockName(a,b).length+1);A()[c>>2]=a.Sg}else A()[c>>2]=W.getProgramParameter(a,b);else X||=1281},oe=(a,b,c,d)=>{a=W.getShaderInfoLog(yi[a]);null===a&&(a="(unknown error)");b=0<b&&d?M(a,d,b):0;c&&(A()[c>>2]=b)},pe=(a,b,c)=>{c?35716==b?(a=W.getShaderInfoLog(yi[a]),null===a&&
(a="(unknown error)"),a=a?a.length+1:0,A()[c>>2]=a):35720==b?(a=(a=W.getShaderSource(yi[a]))?a.length+1:0,A()[c>>2]=a):A()[c>>2]=W.getShaderParameter(yi[a],b):X||=1281},wj=a=>"]"==a.slice(-1)&&a.lastIndexOf("["),qe=(a,b)=>{b=D(b);if(a=ui[a]){var c=a,d=c.Gg,e=c.Lh,f;if(!d){c.Gg=d={};c.Kh={};var h=W.getProgramParameter(c,35718);for(f=0;f<h;++f){var k=W.getActiveUniform(c,f);var l=k.name;k=k.size;var m=wj(l);m=0<m?l.slice(0,m):l;var r=c.lh;c.lh+=k;e[m]=[k,r];for(l=0;l<k;++l)d[r]=l,c.Kh[r++]=m}}c=a.Gg;
d=0;e=b;f=wj(b);0<f&&(d=parseInt(b.slice(f+1))>>>0,e=b.slice(0,f));if((e=a.Lh[e])&&d<e[0]&&(d+=e[1],c[d]=c[d]||W.getUniformLocation(a,b)))return d}else X||=1281;return-1},re=a=>(a=ti[a])?W.isBuffer(a):0,te=a=>W.isEnabled(a),ue=a=>(a=vi[a])?W.isFramebuffer(a):0,ve=a=>(a=ui[a])?W.isProgram(a):0,we=a=>(a=wi[a])?W.isRenderbuffer(a):0,xe=a=>(a=yi[a])?W.isShader(a):0,ye=a=>(a=xi[a])?W.isTexture(a):0,ze=a=>{a=ui[a];W.linkProgram(a);a.Gg=0;a.Lh={}},Ae=(a,b)=>{3317==a?Ci=b:3314==a&&(Di=b);W.pixelStorei(a,
b)},Be=(a,b)=>W.polygonOffset(a,b),Ce=a=>W.readBuffer(a),xj=a=>{a-=5120;return 0==a?v():1==a?y():2==a?z():4==a?A():6==a?Da():5==a||28922==a||28520==a||30779==a||30782==a?B():Ca()},yj=(a,b,c,d,e)=>{a=xj(a);b=d*((Di||c)*({5:3,6:4,8:2,29502:3,29504:4,26917:2,26918:2,29846:3,29847:4}[b-6402]||1)*a.BYTES_PER_ELEMENT+Ci-1&-Ci);return a.subarray(e>>>31-Math.clz32(a.BYTES_PER_ELEMENT),e+b>>>31-Math.clz32(a.BYTES_PER_ELEMENT))},De=(a,b,c,d,e,f,h)=>{if(W.Zg)W.readPixels(a,b,c,d,e,f,h);else{var k=xj(f);h>>>=
31-Math.clz32(k.BYTES_PER_ELEMENT);W.readPixels(a,b,c,d,e,f,k,h)}},Ee=(a,b,c,d)=>W.renderbufferStorage(a,b,c,d),Fe=(a,b,c,d,e)=>W.renderbufferStorageMultisample(a,b,c,d,e),Ge=(a,b,c,d)=>W.scissor(a,b,c,d),He=(a,b,c,d)=>{for(var e="",f=0;f<b;++f){var h=d?B()[d+4*f>>2]:void 0;e+=D(B()[c+4*f>>2],h)}W.shaderSource(yi[a],e)},Ie=(a,b,c,d,e,f,h,k,l)=>{if(W.Pg)W.texImage2D(a,b,c,d,e,f,h,k,l);else if(l){var m=xj(k);l>>>=31-Math.clz32(m.BYTES_PER_ELEMENT);W.texImage2D(a,b,c,d,e,f,h,k,m,l)}else m=l?yj(k,h,d,
e,l):null,W.texImage2D(a,b,c,d,e,f,h,k,m)},Je=(a,b,c)=>W.texParameteri(a,b,c),Ke=(a,b,c,d,e,f,h,k,l)=>{if(W.Pg)W.texSubImage2D(a,b,c,d,e,f,h,k,l);else if(l){var m=xj(k);W.texSubImage2D(a,b,c,d,e,f,h,k,m,l>>>31-Math.clz32(m.BYTES_PER_ELEMENT))}else l=l?yj(k,h,e,f,l):null,W.texSubImage2D(a,b,c,d,e,f,h,k,l)},zj=a=>{var b=W.Uh;if(b){var c=b.Gg[a];"number"==typeof c&&(b.Gg[a]=c=W.getUniformLocation(b,b.Kh[a]+(0<c?`[${c}]`:"")));return c}X||=1282},Le=(a,b)=>{W.uniform1f(zj(a),b)},Me=(a,b)=>{W.uniform1i(zj(a),
b)},Ne=(a,b,c)=>{b&&W.uniform2fv(zj(a),Da(),c>>2,2*b)},Oe=(a,b,c)=>{b&&W.uniform3fv(zj(a),Da(),c>>2,3*b)},Pe=(a,b,c,d,e)=>{W.uniform4f(zj(a),b,c,d,e)},Qe=(a,b,c)=>{b&&W.uniform4fv(zj(a),Da(),c>>2,4*b)},Re=(a,b,c,d)=>{b&&W.uniformMatrix4fv(zj(a),!!c,Da(),d>>2,16*b)},Se=a=>{a=ui[a];W.useProgram(a);W.Uh=a},Te=(a,b,c,d,e,f)=>{var h=Y.yg[a];W.Ag?(h.Og=!1,W.vertexAttribPointer(a,b,c,!!d,e,f)):(h.size=b,h.type=c,h.Ch=d,h.ih=e,h.fh=f,h.Og=!0,h.Mh=function(k,l,m,r,u,t){this.vertexAttribPointer(k,l,m,r,u,t)})},
Ue=(a,b,c,d)=>W.viewport(a,b,c,d),Z={},Aj=2;function Bj(a){if(a){for(;Z[Aj];)Aj=2147483647>Aj?Aj+1:2;Z[Aj]=a;a.Oh=Aj;return Aj++}}function Xe(a){navigator.gpu.requestAdapter().then(b=>{Q(a)(Bj(b))})}var Cj=()=>a=>a.set(crypto.getRandomValues(new Uint8Array(a.byteLength))),Dj=a=>{(Dj=Cj())(a)},$e=(a,b)=>{Dj(y().subarray(a,a+b));return 0};function Ej(a,b){if(a){var c=Bj(a);a.Eh=b;b.Cg||(b.Cg=new Map);b.Cg.set(c,a);return c}}
function ef(a,b){Z[a].requestDevice().then(c=>{Ej(c.queue,c);Q(b)(Ej(c,Z[a]))})}function ff(a,b,c){a=Z[a];try{a.bh[b]=a.getMappedRange(b,0>c?void 0:c)}catch(d){return-1}return b}function gf(a,b,c,d,e,f){Z[a].mapAsync(d,e,0>f?void 0:f).then(()=>{Q(b)(a,c,d,e,f)})}function hf(a,b,c,d,e){y().set(new Uint8Array(Z[a].bh[b],c,e),d)}function jf(a){a=Z[a];a.unmap();a.bh={}}
function kf(a,b){a=Z[a];b>>=2;var c;if(b){var d=B()[b];d?(d={querySet:Z[d]},0<=(c=A()[b+1])&&(d.beginningOfPassWriteIndex=c),0<=(c=A()[b+2])&&(d.endOfPassWriteIndex=c),c=d):c=void 0;c={timestampWrites:c}}else c=void 0;return Bj(a.beginComputePass(c))}function lf(a,b,c,d,e,f){Z[a].copyBufferToBuffer(Z[b],c,Z[d],e,f)}function mf(a,b,c,d){Z[a].dispatchWorkgroups(b,c,d)}
function nf(a,b,c,d){a=Z[a];c>>=2;let e=[];for(;d--;){let f=Z[B()[c+1]];e.push({binding:B()[c],resource:f.isBuffer?{buffer:f,offset:Number(wa[c+2>>>1]),size:Number(wa[c+4>>>1])||void 0}:f});c+=6}return Ej(a.createBindGroup({layout:Z[b],entries:e}),a)}function of(a,b){a=Z[a];b>>=2;b={size:Number(wa[b>>>1]),usage:B()[b+2],mappedAtCreation:!!B()[b+3]};b=a.createBuffer(b);b.bh={};b.isBuffer=1;return Ej(b,a)}function pf(a){return Ej(Z[a].createCommandEncoder(void 0),Z[a])}var Fj="auto";
function qf(a,b,c,d,e,f){a=Z[a];d=1<d?Z[d]:Fj;b=Z[b];c=D(c)||void 0;let h={};for(;f--;)h[D(B()[e+3>>2])]=Ea()[e+8>>3],e+=16;return Ej(a.createComputePipeline({layout:d,compute:{module:b,entryPoint:c,constants:h}}),a)}function rf(a,b){var c=b>>2;b=D(B()[c]);var d=c+2;c=A()[d+2];let e=[];d=B()[d]>>2;let f;for(;c--;)f=B()[d+2],e.push({entryPoint:D(B()[d]),layout:1<f?Z[f]:f?Fj:null}),d+=4;return Ej(Z[a].createShaderModule({code:b,compilationHints:e}),Z[a])}function sf(a){return Z[a].queue.Oh}
function tf(a,b,c){Z[a].lost.then(d=>{var e="destroyed"==d.reason?1:0;if(d=d.message){var f=Of(),h=Ff(d)+1,k=Pf(h);M(d,k,h)}Q(b)(a,e,k,c);f&&Rf(f)})}function Gj(a){let b=Z[a];b&&(b.Oh=0,b.destroy&&b.destroy(),b.Cg&&b.Cg.forEach((c,d)=>{Gj(d)}),b.Eh&&b.Eh.Cg.delete(a),delete Z[a])}function uf(a){Z[a].end();Gj(a)}function vf(a){let b=Z[a].finish();Gj(a);return Bj(b)}function wf(a,b,c,d,e){Z[a].setBindGroup(b,Z[c],B(),d>>2,e)}function xf(a,b){Z[a].setPipeline(Z[b])}
function yf(a,b){return Bj(Z[a].getBindGroupLayout(b))}function zf(a,b,c){Z[a].onSubmittedWorkDone().then(()=>{Q(b)(a,c)})}function Af(a,b){Z[a].submit([Z[b]]);Gj(b)}function Bf(a,b,c,d,e){Z[a].writeBuffer(Z[b],c,y(),d,e)}
var Hj=(a,b,c,d)=>{var e={string:m=>{var r=0;if(null!==m&&void 0!==m&&0!==m){r=Ff(m)+1;var u=Pf(r);M(m,u,r);r=u}return r},array:m=>{var r=Pf(m.length);v().set(m,r);return r}};a=g["_"+a];var f=[],h=0;if(d)for(var k=0;k<d.length;k++){var l=e[c[k]];l?(0===h&&(h=Of()),f[k]=l(d[k])):f[k]=d[k]}c=a(...f);return c=function(m){0!==h&&Rf(h);return"string"===b?D(m):"boolean"===b?!!m:m}(c)};n||Jf.unshift(()=>{Ta++;Va()});qg=g.InternalError=class extends Error{constructor(a){super(a);this.name="InternalError"}};
for(var Ij=Array(256),Jj=0;256>Jj;++Jj)Ij[Jj]=String.fromCharCode(Jj);ug=Ij;vg=g.BindingError=class extends Error{constructor(a){super(a);this.name="BindingError"}};Ag.push(0,1,void 0,1,null,1,!0,1,!1,1);g.count_emval_handles=()=>Ag.length/2-5-zg.length;
Pg=g.UnboundTypeError=((a,b)=>{var c=Gg(b,function(d){this.name=b;this.message=d;d=Error(d).stack;void 0!==d&&(this.stack=this.toString()+"\n"+d.replace(/^Error(:[^\n]*)?\n/,""))});c.prototype=Object.create(a.prototype);c.prototype.constructor=c;c.prototype.toString=function(){return void 0===this.message?this.name:`${this.name}: ${this.message}`};return c})(Error,"UnboundTypeError");g.requestAnimationFrame=Ah;g.pauseMainLoop=Lh;
g.resumeMainLoop=function(){Dh++;var a=th,b=uh,c=vh;vh=null;Kh(c,0,!1,Eh,!0);Ch(a,b);xh()};var Kj=()=>{if(Y){var a=Y.wg;Y.wg=Y.Fg;Y.Fg=a;a=Y.tg;Y.tg=Y.Wg;Y.Wg=a;for(a=0;21>=a;++a)Y.tg[a]=0}};"undefined"!=typeof Nh&&Ih.push(Kj);mi=new hj;n||(Ta++,ij(a=>{jj=a;Va()},()=>{jj=!1;Va()}));var Lj=()=>{Y&&!$f.Ai&&!Y.attributes.wh&&Y.hg.commit&&Y.hg.commit()};"undefined"!=typeof Nh&&Ih.push(Lj);for(var Mj=0;32>Mj;++Mj)tj.push(Array(Mj));
var dh=[Ze,Uf,jg,Sb,dc,ec,fc,jc,gc,hc,ic,kc,lc,mc,nc,oc,Bc,Mi,Dc,Ec,$i,Qc,Rc,Uc,Vc,Wc,Xc,Yc,Zc,$c,jd,kd],cb,C;(async function(){function a(d,e){C=d.exports;Xf.push(C.Hf);fg=C.If;la=e;Va();return C}Ta++;var b=bb();if(n)return new Promise(d=>{Fa=e=>{var f=new WebAssembly.Instance(e,bb());d(a(f,e))}});Ya??=g.locateFile?ha+"shenai_sdk.wasm":(new URL("shenai_sdk.wasm",import.meta.url)).href;try{var c=await ab(b);return a(c.instance,c.module)}catch(d){return ba(d),Promise.reject(d)}})();
var Hg=a=>(Hg=C.wd)(a),Oa=()=>(Oa=C.xd)(),aj=(a,b,c,d,e)=>(aj=C.yd)(a,b,c,d,e),Yi=(a,b,c,d)=>(Yi=C.zd)(a,b,c,d);g.__ZN4shen10InitializeENSt3__212basic_stringIcNS0_11char_traitsIcEENS0_9allocatorIcEEEES6_NS_23initialization_settingsE=(a,b,c)=>(g.__ZN4shen10InitializeENSt3__212basic_stringIcNS0_11char_traitsIcEENS0_9allocatorIcEEEES6_NS_23initialization_settingsE=C.Ad)(a,b,c);g.__ZN4shen13IsInitializedEv=()=>(g.__ZN4shen13IsInitializedEv=C.Bd)();
g.__ZN4shen12DeinitializeEv=()=>(g.__ZN4shen12DeinitializeEv=C.Cd)();g.__ZN4shen15FinalizeTracingEv=()=>(g.__ZN4shen15FinalizeTracingEv=C.Dd)();g.__ZN4shen18GetSDKConfigStringEv=a=>(g.__ZN4shen18GetSDKConfigStringEv=C.Ed)(a);g.__ZN4shen14ApplySDKConfigENSt3__212basic_stringIcNS0_11char_traitsIcEENS0_9allocatorIcEEEE=a=>(g.__ZN4shen14ApplySDKConfigENSt3__212basic_stringIcNS0_11char_traitsIcEENS0_9allocatorIcEEEE=C.Fd)(a);
g.__ZN4shen16SetOperatingModeENS_13OperatingModeE=a=>(g.__ZN4shen16SetOperatingModeENS_13OperatingModeE=C.Gd)(a);g.__ZN4shen16GetOperatingModeEv=()=>(g.__ZN4shen16GetOperatingModeEv=C.Hd)();g.__ZN4shen9SetScreenENS_6ScreenE=a=>(g.__ZN4shen9SetScreenENS_6ScreenE=C.Id)(a);g.__ZN4shen9GetScreenEv=()=>(g.__ZN4shen9GetScreenEv=C.Jd)();g.__ZN4shen16SetPrecisionModeENS_13PrecisionModeE=a=>(g.__ZN4shen16SetPrecisionModeENS_13PrecisionModeE=C.Kd)(a);
g.__ZN4shen16GetPrecisionModeEv=()=>(g.__ZN4shen16GetPrecisionModeEv=C.Ld)();g.__ZN4shen20SetMeasurementPresetENS_17MeasurementPresetE=a=>(g.__ZN4shen20SetMeasurementPresetENS_17MeasurementPresetE=C.Md)(a);g.__ZN4shen20GetMeasurementPresetEv=()=>(g.__ZN4shen20GetMeasurementPresetEv=C.Nd)();g.__ZN4shen22SetBpCalibrationOffsetEdd=(a,b)=>(g.__ZN4shen22SetBpCalibrationOffsetEdd=C.Od)(a,b);g.__ZN4shen26GetCustomMeasurementConfigEv=a=>(g.__ZN4shen26GetCustomMeasurementConfigEv=C.Pd)(a);
g.__ZN4shen26SetCustomMeasurementConfigENS_25custom_measurement_configE=a=>(g.__ZN4shen26SetCustomMeasurementConfigENS_25custom_measurement_configE=C.Qd)(a);g.__ZN4shen19SetCustomColorThemeENS_18custom_color_themeE=a=>(g.__ZN4shen19SetCustomColorThemeENS_18custom_color_themeE=C.Rd)(a);g.__ZN4shen19GetCustomColorThemeEv=a=>(g.__ZN4shen19GetCustomColorThemeEv=C.Sd)(a);g.__ZN4shen13SetCameraModeENS_10CameraModeE=a=>(g.__ZN4shen13SetCameraModeENS_10CameraModeE=C.Td)(a);
g.__ZN4shen13GetCameraModeEv=()=>(g.__ZN4shen13GetCameraModeEv=C.Ud)();g.__ZN4shen22SelectCameraByDeviceIdENSt3__212basic_stringIcNS0_11char_traitsIcEENS0_9allocatorIcEEEENS0_8optionalIbEE=(a,b)=>(g.__ZN4shen22SelectCameraByDeviceIdENSt3__212basic_stringIcNS0_11char_traitsIcEENS0_9allocatorIcEEEENS0_8optionalIbEE=C.Vd)(a,b);g.__ZN4shen14SetMediaStreamENSt3__23anyENS0_8optionalIbEE=(a,b)=>(g.__ZN4shen14SetMediaStreamENSt3__23anyENS0_8optionalIbEE=C.Wd)(a,b);
g.__ZN4shen20SetShowUserInterfaceEb=a=>(g.__ZN4shen20SetShowUserInterfaceEb=C.Xd)(a);g.__ZN4shen20GetShowUserInterfaceEv=()=>(g.__ZN4shen20GetShowUserInterfaceEv=C.Yd)();g.__ZN4shen29SetShowFacePositioningOverlayEb=a=>(g.__ZN4shen29SetShowFacePositioningOverlayEb=C.Zd)(a);g.__ZN4shen29GetShowFacePositioningOverlayEv=()=>(g.__ZN4shen29GetShowFacePositioningOverlayEv=C._d)();g.__ZN4shen21SetShowVisualWarningsEb=a=>(g.__ZN4shen21SetShowVisualWarningsEb=C.$d)(a);
g.__ZN4shen21GetShowVisualWarningsEv=()=>(g.__ZN4shen21GetShowVisualWarningsEv=C.ae)();g.__ZN4shen19SetEnableCameraSwapEb=a=>(g.__ZN4shen19SetEnableCameraSwapEb=C.be)(a);g.__ZN4shen19GetEnableCameraSwapEv=()=>(g.__ZN4shen19GetEnableCameraSwapEv=C.ce)();g.__ZN4shen15SetShowFaceMaskEb=a=>(g.__ZN4shen15SetShowFaceMaskEb=C.de)(a);g.__ZN4shen15GetShowFaceMaskEv=()=>(g.__ZN4shen15GetShowFaceMaskEv=C.ee)();g.__ZN4shen16SetShowBloodFlowEb=a=>(g.__ZN4shen16SetShowBloodFlowEb=C.fe)(a);
g.__ZN4shen16GetShowBloodFlowEv=()=>(g.__ZN4shen16GetShowBloodFlowEv=C.ge)();g.__ZN4shen26SetEnableStartAfterSuccessEb=a=>(g.__ZN4shen26SetEnableStartAfterSuccessEb=C.he)(a);g.__ZN4shen26GetEnableStartAfterSuccessEv=()=>(g.__ZN4shen26GetEnableStartAfterSuccessEv=C.ie)();g.__ZN4shen17SetHideShenaiLogoEb=a=>(g.__ZN4shen17SetHideShenaiLogoEb=C.je)(a);g.__ZN4shen17GetHideShenaiLogoEv=()=>(g.__ZN4shen17GetHideShenaiLogoEv=C.ke)();
g.__ZN4shen33SetShowOutOfRangeResultIndicatorsEb=a=>(g.__ZN4shen33SetShowOutOfRangeResultIndicatorsEb=C.le)(a);g.__ZN4shen33GetShowOutOfRangeResultIndicatorsEv=()=>(g.__ZN4shen33GetShowOutOfRangeResultIndicatorsEv=C.me)();g.__ZN4shen24SetShowTrialMetricLabelsEb=a=>(g.__ZN4shen24SetShowTrialMetricLabelsEb=C.ne)(a);g.__ZN4shen24GetShowTrialMetricLabelsEv=()=>(g.__ZN4shen24GetShowTrialMetricLabelsEv=C.oe)();g.__ZN4shen17SetShowSignalTileEb=a=>(g.__ZN4shen17SetShowSignalTileEb=C.pe)(a);
g.__ZN4shen17GetShowSignalTileEv=()=>(g.__ZN4shen17GetShowSignalTileEv=C.qe)();g.__ZN4shen29SetShowSignalQualityIndicatorEb=a=>(g.__ZN4shen29SetShowSignalQualityIndicatorEb=C.re)(a);g.__ZN4shen29GetShowSignalQualityIndicatorEv=()=>(g.__ZN4shen29GetShowSignalQualityIndicatorEv=C.se)();g.__ZN4shen12GetFaceStateEv=()=>(g.__ZN4shen12GetFaceStateEv=C.te)();g.__ZN4shen21GetNormalizedFaceBboxEv=a=>(g.__ZN4shen21GetNormalizedFaceBboxEv=C.ue)(a);
g.__ZN4shen19GetMeasurementStateEv=()=>(g.__ZN4shen19GetMeasurementStateEv=C.ve)();g.__ZN4shen32GetMeasurementProgressPercentageEv=()=>(g.__ZN4shen32GetMeasurementProgressPercentageEv=C.we)();g.__ZN4shen15GetHeartRate10sEv=a=>(g.__ZN4shen15GetHeartRate10sEv=C.xe)(a);g.__ZN4shen14GetHeartRate4sEv=a=>(g.__ZN4shen14GetHeartRate4sEv=C.ye)(a);g.__ZN4shen20GetRealtimeHeartRateEv=a=>(g.__ZN4shen20GetRealtimeHeartRateEv=C.ze)(a);g.__ZN4shen18GetRealtimeHrvSdnnEv=a=>(g.__ZN4shen18GetRealtimeHrvSdnnEv=C.Ae)(a);
g.__ZN4shen24GetRealtimeCardiacStressEv=a=>(g.__ZN4shen24GetRealtimeCardiacStressEv=C.Be)(a);g.__ZN4shen18GetRealtimeMetricsEf=(a,b)=>(g.__ZN4shen18GetRealtimeMetricsEf=C.Ce)(a,b);g.__ZN4shen21GetMeasurementResultsEv=a=>(g.__ZN4shen21GetMeasurementResultsEv=C.De)(a);g.__ZN4shen28GetMeasurementResultsHistoryEv=a=>(g.__ZN4shen28GetMeasurementResultsHistoryEv=C.Ee)(a);g.__ZN4shen21GetHealthRisksFactorsEv=a=>(g.__ZN4shen21GetHealthRisksFactorsEv=C.Fe)(a);
g.__ZN4shen14GetHealthRisksEv=a=>(g.__ZN4shen14GetHealthRisksEv=C.Ge)(a);g.__ZN4shen18ComputeHealthRisksERKN2mx12health_risks12RisksFactorsE=(a,b)=>(g.__ZN4shen18ComputeHealthRisksERKN2mx12health_risks12RisksFactorsE=C.He)(a,b);g.__ZN4shen15GetMaximalRisksERKN2mx12health_risks12RisksFactorsE=(a,b)=>(g.__ZN4shen15GetMaximalRisksERKN2mx12health_risks12RisksFactorsE=C.Ie)(a,b);
g.__ZN4shen15GetMinimalRisksERKN2mx12health_risks12RisksFactorsE=(a,b)=>(g.__ZN4shen15GetMinimalRisksERKN2mx12health_risks12RisksFactorsE=C.Je)(a,b);g.__ZN4shen17GetReferenceRisksERKN2mx12health_risks12RisksFactorsE=(a,b)=>(g.__ZN4shen17GetReferenceRisksERKN2mx12health_risks12RisksFactorsE=C.Ke)(a,b);g.__ZN4shen21GetRealtimeHeartbeatsENSt3__28optionalIfEE=(a,b)=>(g.__ZN4shen21GetRealtimeHeartbeatsENSt3__28optionalIfEE=C.Le)(a,b);g.__ZN4shen11GetFacePoseEv=a=>(g.__ZN4shen11GetFacePoseEv=C.Me)(a);
g.__ZN4shen19SetRecordingEnabledEb=a=>(g.__ZN4shen19SetRecordingEnabledEb=C.Ne)(a);g.__ZN4shen19GetRecordingEnabledEv=()=>(g.__ZN4shen19GetRecordingEnabledEv=C.Oe)();g.__ZN4shen24GetTotalBadSignalSecondsEv=()=>(g.__ZN4shen24GetTotalBadSignalSecondsEv=C.Pe)();g.__ZN4shen29GetCurrentSignalQualityMetricEv=()=>(g.__ZN4shen29GetCurrentSignalQualityMetricEv=C.Qe)();g.__ZN4shen22GetSignalQualityMapPngEv=a=>(g.__ZN4shen22GetSignalQualityMapPngEv=C.Re)(a);
g.__ZN4shen17GetFaceTexturePngEv=a=>(g.__ZN4shen17GetFaceTexturePngEv=C.Se)(a);g.__ZN4shen25GetMetaPredictionImagePngEv=a=>(g.__ZN4shen25GetMetaPredictionImagePngEv=C.Te)(a);g.__ZN4shen16GetFullPPGSignalEv=a=>(g.__ZN4shen16GetFullPPGSignalEv=C.Ue)(a);g.__ZN4shen10GetTraceIDEv=a=>(g.__ZN4shen10GetTraceIDEv=C.Ve)(a);g.__ZN4shen16GetMeasurementIDEv=a=>(g.__ZN4shen16GetMeasurementIDEv=C.We)(a);
g.__ZN4shen11SetLanguageENSt3__212basic_stringIcNS0_11char_traitsIcEENS0_9allocatorIcEEEE=a=>(g.__ZN4shen11SetLanguageENSt3__212basic_stringIcNS0_11char_traitsIcEENS0_9allocatorIcEEEE=C.Xe)(a);g.__ZN4shen19GetSelectedLanguageEv=a=>(g.__ZN4shen19GetSelectedLanguageEv=C.Ye)(a);g.__ZN4shen14GetPricingPlanEv=a=>(g.__ZN4shen14GetPricingPlanEv=C.Ze)(a);g.__ZN4shen28GetEnableFullFrameProcessingEv=()=>(g.__ZN4shen28GetEnableFullFrameProcessingEv=C._e)();
g.__ZN4shen28SetEnableFullFrameProcessingEb=a=>(g.__ZN4shen28SetEnableFullFrameProcessingEb=C.$e)(a);g.__ZN4shen22GetEnableSummaryScreenEv=()=>(g.__ZN4shen22GetEnableSummaryScreenEv=C.af)();g.__ZN4shen22SetEnableSummaryScreenEb=a=>(g.__ZN4shen22SetEnableSummaryScreenEb=C.bf)(a);g.__ZN4shen20GetEnableHealthRisksEv=()=>(g.__ZN4shen20GetEnableHealthRisksEv=C.cf)();g.__ZN4shen20SetEnableHealthRisksEb=a=>(g.__ZN4shen20SetEnableHealthRisksEb=C.df)(a);
g.__ZN4shen17GetOnboardingModeEv=()=>(g.__ZN4shen17GetOnboardingModeEv=C.ef)();g.__ZN4shen17SetOnboardingModeENS_14OnboardingModeE=a=>(g.__ZN4shen17SetOnboardingModeENS_14OnboardingModeE=C.ff)(a);g.__ZN4shen19GetCalibrationStateEv=()=>(g.__ZN4shen19GetCalibrationStateEv=C.gf)();g.__ZN4shen10GetVersionEv=a=>(g.__ZN4shen10GetVersionEv=C.hf)(a);g.__ZN4shen18GetCalibrationDataEv=a=>(g.__ZN4shen18GetCalibrationDataEv=C.jf)(a);
g.__ZN4shen23GetSbpCalibrationOffsetEv=()=>(g.__ZN4shen23GetSbpCalibrationOffsetEv=C.kf)();g.__ZN4shen23GetDbpCalibrationOffsetEv=()=>(g.__ZN4shen23GetDbpCalibrationOffsetEv=C.lf)();g.__ZN4shen32SendMeasurementResultsPdfToEmailENSt3__212basic_stringIcNS0_11char_traitsIcEENS0_9allocatorIcEEEENS0_8functionIFvbEEE=(a,b)=>(g.__ZN4shen32SendMeasurementResultsPdfToEmailENSt3__212basic_stringIcNS0_11char_traitsIcEENS0_9allocatorIcEEEENS0_8functionIFvbEEE=C.mf)(a,b);
g.__ZN4shen34OpenMeasurementResultsPdfInBrowserEv=()=>(g.__ZN4shen34OpenMeasurementResultsPdfInBrowserEv=C.nf)();g.__ZN4shen27GetMeasurementResultsPdfUrlENSt3__28functionIFvNS0_12basic_stringIcNS0_11char_traitsIcEENS0_9allocatorIcEEEEEEE=a=>(g.__ZN4shen27GetMeasurementResultsPdfUrlENSt3__28functionIFvNS0_12basic_stringIcNS0_11char_traitsIcEENS0_9allocatorIcEEEEEEE=C.of)(a);g.__ZN4shen31RequestMeasurementResultsPdfUrlEv=()=>(g.__ZN4shen31RequestMeasurementResultsPdfUrlEv=C.pf)();
g.__ZN4shen27GetMeasurementResultsPdfUrlEv=a=>(g.__ZN4shen27GetMeasurementResultsPdfUrlEv=C.qf)(a);g.__ZN4shen29GetMeasurementResultsPdfBytesENSt3__28functionIFvNS0_6vectorIhNS0_9allocatorIhEEEEEEE=a=>(g.__ZN4shen29GetMeasurementResultsPdfBytesENSt3__28functionIFvNS0_6vectorIhNS0_9allocatorIhEEEEEEE=C.rf)(a);g.__ZN4shen33RequestMeasurementResultsPdfBytesEv=()=>(g.__ZN4shen33RequestMeasurementResultsPdfBytesEv=C.sf)();
g.__ZN4shen29GetMeasurementResultsPdfBytesEv=a=>(g.__ZN4shen29GetMeasurementResultsPdfBytesEv=C.tf)(a);g._handlePagehide=()=>(g._handlePagehide=C.uf)();var Nj=g._main=(a,b)=>(Nj=g._main=C.vf)(a,b),H=a=>(H=C.wf)(a),Ia=()=>(Ia=C.xf)();g._onVideoDevicesEnumerated=()=>(g._onVideoDevicesEnumerated=C.yf)();g._onVideoDevicesEnumerationError=()=>(g._onVideoDevicesEnumerationError=C.zf)();g._onCameraInitialized=()=>(g._onCameraInitialized=C.Af)();
g._onCameraInitializationError=()=>(g._onCameraInitializationError=C.Bf)();g._ingestCameraFrame=(a,b,c,d,e,f,h,k,l,m)=>(g._ingestCameraFrame=C.Cf)(a,b,c,d,e,f,h,k,l,m);var G=a=>(G=C.Df)(a);g._onBleDeviceReady=()=>(g._onBleDeviceReady=C.Ef)();g._onBleControlNotification=(a,b)=>(g._onBleControlNotification=C.Ff)(a,b);g._onBleDataNotification=(a,b)=>(g._onBleDataNotification=C.Gf)(a,b);
var Vf=()=>(Vf=C.Jf)(),Ka=(a,b,c,d,e,f)=>(Ka=C.Kf)(a,b,c,d,e,f),Ra=()=>(Ra=C.Lf)(),Qf=(a,b,c,d,e)=>(Qf=C.Mf)(a,b,c,d,e),Yf=a=>(Yf=C.Nf)(a),gg=a=>(gg=C.Of)(a),ph=(a,b)=>(ph=C.Pf)(a,b),bh=()=>(bh=C.Qf)(),Xa=()=>(Xa=C.Rf)(),cg=(a,b)=>(cg=C.Sf)(a,b),Rf=a=>(Rf=C.Tf)(a),Pf=a=>(Pf=C.Uf)(a),Of=()=>(Of=C.Vf)();g.ccall=Hj;g.cwrap=(a,b,c,d)=>{var e=!c||c.every(f=>"number"===f||"boolean"===f);return"string"!==b&&e&&!d?g["_"+a]:(...f)=>Hj(a,b,c,f,d)};
function Oj(){if(0<Ta)Ua=Oj;else if(n)aa(g),Sa();else{for(;0<Jf.length;)Jf.shift()(g);if(0<Ta)Ua=Oj;else if(g.calledRun=!0,!ma){Sa();aa(g);var a=Nj;try{var b=a(0,0);ld(b,!0)}catch(c){Tf(c)}}}}Oj();moduleRtn=ca;


  return moduleRtn;
}
);
})();
export default Module;
var isPthread = globalThis.self?.name?.startsWith('em-pthread');
// When running as a pthread, construct a new instance on startup
isPthread && Module();
